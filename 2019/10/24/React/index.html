<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>React基础 | 云海雪原</title><meta name="description" content="React基础"><meta name="keywords" content="React"><meta name="author" content="雪海の无涯"><meta name="copyright" content="雪海の无涯"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="canonical" href="http://wuguolong.com/2019/10/24/React/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="React基础"><meta name="twitter:description" content="React基础"><meta name="twitter:image" content="http://wuguolong.com/img/react.png"><meta property="og:type" content="article"><meta property="og:title" content="React基础"><meta property="og:url" content="http://wuguolong.com/2019/10/24/React/"><meta property="og:site_name" content="云海雪原"><meta property="og:description" content="React基础"><meta property="og:image" content="http://wuguolong.com/img/react.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="prev" title="Vue笔记" href="http://wuguolong.com/2019/10/24/Vue基础/"><link rel="next" title="Node.js" href="http://wuguolong.com/2019/10/24/NodeJS笔记/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://www.wuguolong.com/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight_copy: 'true',
  highlight_lang: 'true',
  highlight_shrink: 'false',
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: '添加书签',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  copyright: {"languages":{"author":"作者: 雪海の无涯","link":"链接: http://wuguolong.com/2019/10/24/React/","source":"来源: 云海雪原","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  copy_copyright_js: true
  
}</script></head><body><canvas class="fireworks"></canvas><div id="header"> <div id="page-header"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">云海雪原</a></span><i class="fa fa-bars fa-fw toggle-menu pull-right close" aria-hidden="true"></i><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div><script>document.body.addEventListener('touchstart', function(){ });</script></div></span><span class="pull-right" id="search_button"></span></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="lozad avatar_img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'"></div><div class="mobile_post_data"><div class="mobile_data_item is_center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">29</div></a></div></div><div class="mobile_data_item is_center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">23</div></a></div></div><div class="mobile_data_item is_center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">18</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div><script>document.body.addEventListener('touchstart', function(){ });</script></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#一、React基础介绍"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">一、React基础介绍</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1-React简介"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">1. React简介</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#2-前端三大主流框架"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">2. 前端三大主流框架</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-React与vue的对比"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">3. React与vue的对比</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#组件化方面"><span class="toc_mobile_items-number">4.1.</span> <span class="toc_mobile_items-text">组件化方面</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#开发团队方面"><span class="toc_mobile_items-number">4.2.</span> <span class="toc_mobile_items-text">开发团队方面</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#社区方面"><span class="toc_mobile_items-number">4.3.</span> <span class="toc_mobile_items-text">社区方面</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#移动APP开发体验方面"><span class="toc_mobile_items-number">4.4.</span> <span class="toc_mobile_items-text">移动APP开发体验方面</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#4-为什么要学习React"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">4. 为什么要学习React</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#5-React中几个核心的概念"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text">5. React中几个核心的概念</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#虚拟DOM（Virtual-Document-Object-Model）"><span class="toc_mobile_items-number">6.1.</span> <span class="toc_mobile_items-text">虚拟DOM（Virtual Document Object Model）</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Diff算法"><span class="toc_mobile_items-number">6.2.</span> <span class="toc_mobile_items-text">Diff算法</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#6-创建基本的webpack4-x项目"><span class="toc_mobile_items-number">7.</span> <span class="toc_mobile_items-text">6. 创建基本的webpack4.x项目</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#7-在项目中使用-react"><span class="toc_mobile_items-number">8.</span> <span class="toc_mobile_items-text">7. 在项目中使用 react</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#8-JSX语法"><span class="toc_mobile_items-number">9.</span> <span class="toc_mobile_items-text">8. JSX语法</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#9-React中创建组件"><span class="toc_mobile_items-number">10.</span> <span class="toc_mobile_items-text">9. React中创建组件</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#第1种-创建组件的方式"><span class="toc_mobile_items-number">10.1.</span> <span class="toc_mobile_items-text">第1种 - 创建组件的方式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#第2种-创建组件的方式"><span class="toc_mobile_items-number">10.2.</span> <span class="toc_mobile_items-text">第2种 - 创建组件的方式</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#了解ES6中-class-关键字的使用"><span class="toc_mobile_items-number">10.2.1.</span> <span class="toc_mobile_items-text">了解ES6中 class 关键字的使用</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#基于class关键字创建组件"><span class="toc_mobile_items-number">10.2.2.</span> <span class="toc_mobile_items-text">基于class关键字创建组件</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#React的state写在constructor里面和直接写state有什么区别？？"><span class="toc_mobile_items-number">10.2.3.</span> <span class="toc_mobile_items-text">React的state写在constructor里面和直接写state有什么区别？？</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#哪种更好"><span class="toc_mobile_items-number">10.2.3.1.</span> <span class="toc_mobile_items-text">哪种更好</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#React-的-PureComponent-Vs-Component"><span class="toc_mobile_items-number">10.2.4.</span> <span class="toc_mobile_items-text">React 的 PureComponent Vs Component</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#10-两种创建组件方式的对比"><span class="toc_mobile_items-number">11.</span> <span class="toc_mobile_items-text">10. 两种创建组件方式的对比</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#通过for循环生成多个组件"><span class="toc_mobile_items-number">11.1.</span> <span class="toc_mobile_items-text">通过for循环生成多个组件</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#11-设置样式"><span class="toc_mobile_items-number">12.</span> <span class="toc_mobile_items-text">11. 设置样式</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#》在项目中启用模块化并同时使用bootstrap"><span class="toc_mobile_items-number">12.0.1.</span> <span class="toc_mobile_items-text">》在项目中启用模块化并同时使用bootstrap</span></a></li></ol></li></ol><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#二、-React-中绑定事件"><span class="toc_mobile_items-number"></span> <span class="toc_mobile_items-text">二、 React 中绑定事件</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-绑定文本框与state中的值（单向数据流-双向数据流）"><span class="toc_mobile_items-number">0.1.</span> <span class="toc_mobile_items-text">1. 绑定文本框与state中的值（单向数据流|双向数据流）</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#三、使用ref获取DOM元素引用"><span class="toc_mobile_items-number"></span> <span class="toc_mobile_items-text">三、使用ref获取DOM元素引用</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#四、-组件的生命周期"><span class="toc_mobile_items-number"></span> <span class="toc_mobile_items-text">四、 组件的生命周期</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#五、React组件参数及传参"><span class="toc_mobile_items-number"></span> <span class="toc_mobile_items-text">五、React组件参数及传参</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1、属性介绍"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">1、属性介绍</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#defaultProps"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">defaultProps</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#propTypes"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">propTypes</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#示例：Counter计数器"><span class="toc_mobile_items-number">1.3.</span> <span class="toc_mobile_items-text">示例：Counter计数器</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#2、父子组件传值"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">2、父子组件传值</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#六、axios请求"><span class="toc_mobile_items-number"></span> <span class="toc_mobile_items-text">六、axios请求</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1、表格渲染案例"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">1、表格渲染案例</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#a-表格渲染"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">a. 表格渲染</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#b-全局引入antd组件"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">b. 全局引入antd组件</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#c-全局引入第三方插件moment"><span class="toc_mobile_items-number">1.3.</span> <span class="toc_mobile_items-text">c. 全局引入第三方插件moment</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#d-提取公共引用"><span class="toc_mobile_items-number">1.4.</span> <span class="toc_mobile_items-text">d. 提取公共引用</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#问题："><span class="toc_mobile_items-number">1.5.</span> <span class="toc_mobile_items-text">问题：</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#1、为什么事件调用函数需要重新指向this，但是请求行数却不需要"><span class="toc_mobile_items-number">1.5.1.</span> <span class="toc_mobile_items-text">1、为什么事件调用函数需要重新指向this，但是请求行数却不需要</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#2、如何完美的全局挂载各个第三方插件"><span class="toc_mobile_items-number">1.5.2.</span> <span class="toc_mobile_items-text">2、如何完美的全局挂载各个第三方插件</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#2、antd组件使用"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">2、antd组件使用</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#七、Redux"><span class="toc_mobile_items-number"></span> <span class="toc_mobile_items-text">七、Redux</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1、基础理解"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">1、基础理解</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#create-react-app-3-0"><span class="toc_mobile_items-number"></span> <span class="toc_mobile_items-text">create-react-app(^3.0)</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1、配置less-loader"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">1、配置less-loader</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#2、antD-4-0-按需加载组件"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">2、antD(^4.0)按需加载组件</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3、全局主题自定义"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">3、全局主题自定义</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#4、填坑！"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">4、填坑！</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#5、配置‘-’代替相对路径"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">5、配置‘@’代替相对路径../../</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#6、css模块化处理"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text">6、css模块化处理</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#React项目相关框架及文章"><span class="toc_mobile_items-number">7.</span> <span class="toc_mobile_items-text">React项目相关框架及文章</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#安装-React-Developer-Tools-调试工具"><span class="toc_mobile_items-number">8.</span> <span class="toc_mobile_items-text">安装 React Developer Tools 调试工具</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#相关文章"><span class="toc_mobile_items-number">9.</span> <span class="toc_mobile_items-text">相关文章</span></a></li></ol></li></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、React基础介绍"><span class="toc-number">1.</span> <span class="toc-text">一、React基础介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-React简介"><span class="toc-number">2.</span> <span class="toc-text">1. React简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-前端三大主流框架"><span class="toc-number">3.</span> <span class="toc-text">2. 前端三大主流框架</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-React与vue的对比"><span class="toc-number">4.</span> <span class="toc-text">3. React与vue的对比</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#组件化方面"><span class="toc-number">4.1.</span> <span class="toc-text">组件化方面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#开发团队方面"><span class="toc-number">4.2.</span> <span class="toc-text">开发团队方面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#社区方面"><span class="toc-number">4.3.</span> <span class="toc-text">社区方面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#移动APP开发体验方面"><span class="toc-number">4.4.</span> <span class="toc-text">移动APP开发体验方面</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-为什么要学习React"><span class="toc-number">5.</span> <span class="toc-text">4. 为什么要学习React</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-React中几个核心的概念"><span class="toc-number">6.</span> <span class="toc-text">5. React中几个核心的概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#虚拟DOM（Virtual-Document-Object-Model）"><span class="toc-number">6.1.</span> <span class="toc-text">虚拟DOM（Virtual Document Object Model）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Diff算法"><span class="toc-number">6.2.</span> <span class="toc-text">Diff算法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-创建基本的webpack4-x项目"><span class="toc-number">7.</span> <span class="toc-text">6. 创建基本的webpack4.x项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-在项目中使用-react"><span class="toc-number">8.</span> <span class="toc-text">7. 在项目中使用 react</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-JSX语法"><span class="toc-number">9.</span> <span class="toc-text">8. JSX语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-React中创建组件"><span class="toc-number">10.</span> <span class="toc-text">9. React中创建组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#第1种-创建组件的方式"><span class="toc-number">10.1.</span> <span class="toc-text">第1种 - 创建组件的方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#第2种-创建组件的方式"><span class="toc-number">10.2.</span> <span class="toc-text">第2种 - 创建组件的方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#了解ES6中-class-关键字的使用"><span class="toc-number">10.2.1.</span> <span class="toc-text">了解ES6中 class 关键字的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#基于class关键字创建组件"><span class="toc-number">10.2.2.</span> <span class="toc-text">基于class关键字创建组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#React的state写在constructor里面和直接写state有什么区别？？"><span class="toc-number">10.2.3.</span> <span class="toc-text">React的state写在constructor里面和直接写state有什么区别？？</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#哪种更好"><span class="toc-number">10.2.3.1.</span> <span class="toc-text">哪种更好</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#React-的-PureComponent-Vs-Component"><span class="toc-number">10.2.4.</span> <span class="toc-text">React 的 PureComponent Vs Component</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-两种创建组件方式的对比"><span class="toc-number">11.</span> <span class="toc-text">10. 两种创建组件方式的对比</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#通过for循环生成多个组件"><span class="toc-number">11.1.</span> <span class="toc-text">通过for循环生成多个组件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-设置样式"><span class="toc-number">12.</span> <span class="toc-text">11. 设置样式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#》在项目中启用模块化并同时使用bootstrap"><span class="toc-number">12.0.1.</span> <span class="toc-text">》在项目中启用模块化并同时使用bootstrap</span></a></li></ol></li></ol><li class="toc-item toc-level-1"><a class="toc-link" href="#二、-React-中绑定事件"><span class="toc-number"></span> <span class="toc-text">二、 React 中绑定事件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-绑定文本框与state中的值（单向数据流-双向数据流）"><span class="toc-number">0.1.</span> <span class="toc-text">1. 绑定文本框与state中的值（单向数据流|双向数据流）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#三、使用ref获取DOM元素引用"><span class="toc-number"></span> <span class="toc-text">三、使用ref获取DOM元素引用</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#四、-组件的生命周期"><span class="toc-number"></span> <span class="toc-text">四、 组件的生命周期</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#五、React组件参数及传参"><span class="toc-number"></span> <span class="toc-text">五、React组件参数及传参</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1、属性介绍"><span class="toc-number">1.</span> <span class="toc-text">1、属性介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#defaultProps"><span class="toc-number">1.1.</span> <span class="toc-text">defaultProps</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#propTypes"><span class="toc-number">1.2.</span> <span class="toc-text">propTypes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#示例：Counter计数器"><span class="toc-number">1.3.</span> <span class="toc-text">示例：Counter计数器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2、父子组件传值"><span class="toc-number">2.</span> <span class="toc-text">2、父子组件传值</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#六、axios请求"><span class="toc-number"></span> <span class="toc-text">六、axios请求</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1、表格渲染案例"><span class="toc-number">1.</span> <span class="toc-text">1、表格渲染案例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#a-表格渲染"><span class="toc-number">1.1.</span> <span class="toc-text">a. 表格渲染</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#b-全局引入antd组件"><span class="toc-number">1.2.</span> <span class="toc-text">b. 全局引入antd组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#c-全局引入第三方插件moment"><span class="toc-number">1.3.</span> <span class="toc-text">c. 全局引入第三方插件moment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#d-提取公共引用"><span class="toc-number">1.4.</span> <span class="toc-text">d. 提取公共引用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题："><span class="toc-number">1.5.</span> <span class="toc-text">问题：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1、为什么事件调用函数需要重新指向this，但是请求行数却不需要"><span class="toc-number">1.5.1.</span> <span class="toc-text">1、为什么事件调用函数需要重新指向this，但是请求行数却不需要</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2、如何完美的全局挂载各个第三方插件"><span class="toc-number">1.5.2.</span> <span class="toc-text">2、如何完美的全局挂载各个第三方插件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2、antd组件使用"><span class="toc-number">2.</span> <span class="toc-text">2、antd组件使用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#七、Redux"><span class="toc-number"></span> <span class="toc-text">七、Redux</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1、基础理解"><span class="toc-number">1.</span> <span class="toc-text">1、基础理解</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#create-react-app-3-0"><span class="toc-number"></span> <span class="toc-text">create-react-app(^3.0)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1、配置less-loader"><span class="toc-number">1.</span> <span class="toc-text">1、配置less-loader</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2、antD-4-0-按需加载组件"><span class="toc-number">2.</span> <span class="toc-text">2、antD(^4.0)按需加载组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3、全局主题自定义"><span class="toc-number">3.</span> <span class="toc-text">3、全局主题自定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4、填坑！"><span class="toc-number">4.</span> <span class="toc-text">4、填坑！</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5、配置‘-’代替相对路径"><span class="toc-number">5.</span> <span class="toc-text">5、配置‘@’代替相对路径../../</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6、css模块化处理"><span class="toc-number">6.</span> <span class="toc-text">6、css模块化处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React项目相关框架及文章"><span class="toc-number">7.</span> <span class="toc-text">React项目相关框架及文章</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装-React-Developer-Tools-调试工具"><span class="toc-number">8.</span> <span class="toc-text">安装 React Developer Tools 调试工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#相关文章"><span class="toc-number">9.</span> <span class="toc-text">相关文章</span></a></li></ol></li></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(/img/react.png)"><div id="post-info"><div id="post-title"><div class="posttitle">React基础</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2019-10-24<span class="post-meta__separator">|</span><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-06-06</time><span class="post-meta__separator mobile_hidden">|</span><span class="mobile_hidden"><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/React/">React</a></span><div class="post-meta-wordcount"><span>阅读量: </span><span id="busuanzi_value_page_pv"></span></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h2 id="一、React基础介绍"><a href="#一、React基础介绍" class="headerlink" title="一、React基础介绍"></a>一、React基础介绍</h2><h2 id="1-React简介"><a href="#1-React简介" class="headerlink" title="1. React简介"></a>1. React简介</h2><blockquote>
<p>AngularJS     2009年（谷歌）</p>
<p>React.js      2013年5月（Facebook）</p>
<p>Vue.js        2014年2月（尤雨溪 ）</p>
<p>Angular2      2016年9月（谷歌）</p>
</blockquote>
<ul>
<li>React 起源于 Facebook 的内部项目，因为该公司对市场上所有 JavaScript MVC 框架，都不满意，就决定自己写一套，用来架设 Instagram（照片交友） 的网站。做出来以后，发现这套东西很好用，<strong>就在2013年5月开源了</strong>。</li>
<li>由于 React 的<strong>设计思想极其独特</strong>，属于革命性创新，性能出众，代码逻辑却非常简单。所以，越来越多的人开始关注和使用，认为它可能是将来 Web 开发的主流工具。</li>
<li>清楚两个概念：<ul>
<li>library（库）：小而巧的库，只提供了特定的API；</li>
<li>Framework（框架）：大而全的是框架；框架提供了一整套的解决方案；</li>
</ul>
</li>
</ul>
<h2 id="2-前端三大主流框架"><a href="#2-前端三大主流框架" class="headerlink" title="2. 前端三大主流框架"></a>2. 前端三大主流框架</h2><blockquote>
<p>三大框架一大抄</p>
</blockquote>
<ul>
<li>Angular.js：出来<strong>较早</strong>的前端框架，学习曲线比较陡，NG1学起来比较麻烦，NG2 ~ NG5开始，进行了一系列的改革，也提供了组件化开发的概念；从NG2开始，也支持使用TS（TypeScript）进行编程；</li>
<li>Vue.js：<strong>最火</strong>（关注的人比较多）的一门前端框架，它是中国人开发的，对我我们来说，文档要友好一些；</li>
<li>React.js：<strong>最流行</strong>（用的人比较多）的一门框架，因为它的设计很优秀；</li>
</ul>
<h2 id="3-React与vue的对比"><a href="#3-React与vue的对比" class="headerlink" title="3. React与vue的对比"></a>3. React与vue的对比</h2><h3 id="组件化方面"><a href="#组件化方面" class="headerlink" title="组件化方面"></a>组件化方面</h3><ol>
<li><strong>什么是模块化：</strong>是从 <strong>代码</strong> 的角度来进行分析的；把一些可复用的代码，抽离为单个的模块；便于代码的维护和开发；</li>
<li><strong>什么是组件化：</strong> 是从 <strong>UI 界面</strong> 的角度 来进行分析的；把一些可复用的UI元素，抽离为单独的组件；便于项目的维护和开发；</li>
<li><strong>组件化的好处：</strong>随着项目规模的增大，手里的组件越来越多；很方便就能把现有的组件，拼接为一个完整的页面；</li>
<li><strong>Vue是如何实现组件化的：</strong> 主要通过 <code>.vue</code> 文件，来创建组件<ul>
<li>template 结构</li>
<li>script       行为</li>
<li>style         样式</li>
</ul>
</li>
</ol>
<ol start="5">
<li><p><strong>React如何实现组件化</strong>：在 React 中，并没有像 <code>.vue</code> 类似的组件文件；在React中，组件是通过 Javascript 表示的；</p>
<ul>
<li><p>大家可以认为，在 React 中，每一个 <code>.js</code> 文件，都是一个 组件；</p>
</li>
<li><p>React 中，每一个组件的 结构、样式、行为，都是由 Javascript 来表示；</p>
</li>
<li>所以学习React，对 Javascript 和 ES6 的基本功要求，比较高一些！</li>
<li>注意： React 中一个比较痛苦的点，就是 没有提供指令的概念；一些的操作，都需要程序员使用JS来实现；   <ul>
<li>Array.map()       //  map 方法，有返回值；【在React中，只要涉及到数组的渲染，必然会用到 map 方法】</li>
<li>Array.forEach()  // forEach 方法，没有返回值；</li>
</ul>
</li>
</ul>
</li>
<li><p>学习React的技术要求：</p>
<ul>
<li>Node.js</li>
<li>Webpack</li>
<li>Javascript 面向对象</li>
<li>ES6 高级语法     <code>class</code>    <code>WePY</code><h3 id="开发团队方面"><a href="#开发团队方面" class="headerlink" title="开发团队方面"></a>开发团队方面</h3></li>
</ul>
</li>
</ol>
<ul>
<li>React是由FaceBook前端官方团队进行维护和更新的；因此，React的维护开发团队，技术实力比较雄厚；</li>
<li>Vue：第一版，主要是有作者 尤雨溪 专门进行维护的，当 Vue更新到 2.x 版本后，也有了一个以 尤雨溪 为主导的开源小团队，进行相关的开发和维护；</li>
</ul>
<h3 id="社区方面"><a href="#社区方面" class="headerlink" title="社区方面"></a>社区方面</h3><ul>
<li>在社区方面，React由于诞生的较早，所以社区比较强大，一些常见的问题、坑、最优解决方案，文档、博客在社区中都是可以很方便就能找到的；</li>
<li>Vue是近两年才火起来的，所以，它的社区相对于React来说，要小一些，可能有的一些坑，没人踩过；</li>
</ul>
<h3 id="移动APP开发体验方面"><a href="#移动APP开发体验方面" class="headerlink" title="移动APP开发体验方面"></a>移动APP开发体验方面</h3><ul>
<li>Vue，结合 Weex 这门技术，提供了 迁移到 移动端App开发的体验（Weex，目前只是一个 小的玩具， 并没有很成功的 大案例）</li>
<li>React，结合 ReactNative，也提供了无缝迁移到 移动App的开发体验（RN用的最多，也是最火最流行的）；</li>
</ul>
<h2 id="4-为什么要学习React"><a href="#4-为什么要学习React" class="headerlink" title="4. 为什么要学习React"></a>4. 为什么要学习React</h2><ol>
<li>和Angular1相比，React设计很优秀，一切基于JS并且实现了组件化开发的思想；</li>
<li>开发团队实力强悍，不必担心断更的情况；</li>
<li>社区强大，很多问题都能找到对应的解决方案；</li>
<li>提供了无缝转到 ReactNative 上的开发体验，让我们技术能力得到了拓展；增强了我们的核心竞争力；</li>
<li>很多企业中，前端项目的技术选型采用的是React.js；</li>
</ol>
<h2 id="5-React中几个核心的概念"><a href="#5-React中几个核心的概念" class="headerlink" title="5. React中几个核心的概念"></a>5. React中几个核心的概念</h2><h3 id="虚拟DOM（Virtual-Document-Object-Model）"><a href="#虚拟DOM（Virtual-Document-Object-Model）" class="headerlink" title="虚拟DOM（Virtual Document Object Model）"></a>虚拟DOM（Virtual Document Object Model）</h3><ul>
<li><p><strong>DOM和虚拟DOM的区别</strong>：</p>
<ul>
<li><p><strong>DOM：</strong>浏览器中，提供的概念；用JS对象，表示页面上的元素，并提供了操作元素的API；</p>
</li>
<li><p><strong>虚拟DOM：</strong>是框架中的概念；而是开发框架的程序员，手动用JS对象来模拟DOM元素和嵌套关系；</p>
<ul>
<li>本质： 用JS对象，来模拟DOM元素和嵌套关系；</li>
<li>目的：就是为了实现页面元素的高效更新；</li>
</ul>
<p><img alt data-src="React/虚拟DOM引入图片.png" class="lozad"></p>
<img data-src="/2019/10/24/React/虚拟DOM引入图片.png" class="lozad">
<h3 id="Diff算法"><a href="#Diff算法" class="headerlink" title="Diff算法"></a>Diff算法</h3></li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>tree diff:</strong>在页面中的每一层节点，都需要对比，整颗DOM树从上到下，对比一遍以后，所有需要 被按需更新的元素，必然能够被查找出来！</p>
</li>
<li><p><strong>component diff：</strong>在对比DOM树种每一层的时候，会对每个 组件，进行对比；</p>
<ul>
<li>如果对比前后，组件的类型相同，则 暂时 认为 组件不需要被更新；</li>
<li>如果对比前后，组件的类型不同，则 移除 旧组件，创建新组件，并把 新组件替换到原来的位置；</li>
</ul>
</li>
<li><p><strong>element diff:</strong>组件中，元素级别的对比，叫做 Element Diff；</p>
<p><img alt data-src="React/Diff.png" class="lozad"></p>
 <img data-src="/2019/10/24/React/Diff.png" class="lozad">
<h2 id="6-创建基本的webpack4-x项目"><a href="#6-创建基本的webpack4-x项目" class="headerlink" title="6. 创建基本的webpack4.x项目"></a>6. 创建基本的webpack4.x项目</h2></li>
</ul>
<ol>
<li><p>运行<code>npm init -y</code> 快速初始化项目</p>
</li>
<li><p>在项目根目录创建<code>src</code>源代码目录和<code>dist</code>产品目录</p>
</li>
<li><p>在 src 目录下创建 <code>index.html</code></p>
</li>
<li><p>使用 cnpm 安装 webpack ，运行<code>cnpm i webpack webpack-cli -D</code></p>
<ul>
<li>如何安装 <code>cnpm</code>: 全局运行 <code>npm i cnpm -g</code></li>
</ul>
</li>
<li><p>注意：webpack 4.x 提供了 约定大于配置的概念；目的是为了尽量减少 配置文件的体积；</p>
<ul>
<li><p>在项目根目录，新建 <code>webpack.config.js</code> 配置文件</p>
</li>
<li><p>默认约定了：</p>
</li>
<li>打包的入口是<code>src</code> -&gt; <code>index.js</code></li>
<li>打包的输出文件是<code>dist</code> -&gt; <code>main.js</code></li>
<li>4.x 中 新增了 <code>mode</code> 选项(为必选项)，可选的值为：<code>development</code> 和 <code>production</code>;</li>
</ul>
</li>
</ol>
<h2 id="7-在项目中使用-react"><a href="#7-在项目中使用-react" class="headerlink" title="7. 在项目中使用 react"></a>7. 在项目中使用 react</h2><ol>
<li><p>运行 <code>cnpm i react react-dom -S</code> 安装包</p>
<ul>
<li>react： 专门用于创建组件和虚拟DOM的，同时组件的生命周期都在这个包中</li>
<li>react-dom： 专门进行DOM操作的，最主要的应用场景，就是<code>ReactDOM.render()</code></li>
</ul>
</li>
<li><p>在<code>index.html</code>页面中，创建容器：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 容器，将来，使用 React 创建的虚拟DOM元素，都会被渲染到这个指定的容器中 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>导入 包：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>创建虚拟DOM元素：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这是 创建虚拟DOM元素的 API    &lt;h1 title="啊，五环" id="myh1"&gt;你比四环多一环&lt;/h1&gt;</span></span><br><span class="line"><span class="comment">//  第一个参数： 字符串类型的参数，表示要创建的标签的名称</span></span><br><span class="line"><span class="comment">//  第二个参数：对象类型的参数， 表示 创建的元素的属性节点</span></span><br><span class="line"><span class="comment">//  第三个参数： 子节点</span></span><br><span class="line"><span class="keyword">const</span> myh1 = React.createElement(<span class="string">'h1'</span>, &#123; <span class="attr">title</span>: <span class="string">'啊，五环'</span>, <span class="attr">id</span>: <span class="string">'myh1'</span> &#125;, <span class="string">'你比四环多一环'</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>渲染：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 3. 渲染虚拟DOM元素</span></span><br><span class="line"><span class="comment">// 参数1： 表示要渲染的虚拟DOM对象</span></span><br><span class="line"><span class="comment">// 参数2： 指定容器,注意：这里不能直接放 容器元素的Id字符串，需要放一个容器的DOM对象</span></span><br><span class="line">ReactDOM.render(myh1, <span class="built_in">document</span>.getElementById(<span class="string">'app'</span>))</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="8-JSX语法"><a href="#8-JSX语法" class="headerlink" title="8. JSX语法"></a>8. JSX语法</h2><blockquote>
<p>什么是JSX语法：就是符合 xml 规范的 JS 语法；（语法格式相对来说，要比HTML严谨很多）</p>
</blockquote>
<ol>
<li><p><strong>如何启用 jsx 语法？</strong></p>
<ul>
<li><p>安装 <code>babel</code> 插件</p>
<ul>
<li>运行<code>cnpm i babel-core babel-loader babel-plugin-transform-runtime -D</code></li>
<li>运行<code>cnpm i babel-preset-env babel-preset-stage-0 -D</code></li>
</ul>
</li>
<li><p>安装能够识别转换jsx语法的包 <code>babel-preset-react</code> </p>
<ul>
<li>运行<code>cnpm i babel-preset-react -D</code></li>
</ul>
</li>
<li><p>添加 <code>.babelrc</code> 配置文件</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"presets"</span>: [<span class="string">"env"</span>, <span class="string">"stage-0"</span>, <span class="string">"react"</span>],</span><br><span class="line">  <span class="attr">"plugins"</span>: [<span class="string">"transform-runtime"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加babel-loader配置项：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123; <span class="comment">//要打包的第三方模块</span></span><br><span class="line">    rules: [</span><br><span class="line">      &#123; <span class="attr">test</span>: <span class="regexp">/\.js|jsx$/</span>, <span class="attr">use</span>: <span class="string">'babel-loader'</span>, <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<ol start="2">
<li><p><strong>jsx 语法的本质：</strong>并不是直接把 jsx 渲染到页面上，而是 内部先转换成了 createElement 形式，再渲染的；</p>
</li>
<li><p><strong>在 jsx 中混合写入 js 表达式</strong>：在 jsx 语法中，要把 JS代码写到 <code>{ }</code> 中</p>
<ul>
<li>渲染数字</li>
<li>渲染字符串</li>
<li>布尔值实现三元表达式</li>
<li>为属性绑定值 (不需要用引号)</li>
<li>渲染jsx元素（直接渲另一个jsx）</li>
<li>渲染jsx元素数组</li>
<li>将普通字符串数组，转为jsx数组并渲染到页面上【两种方案】</li>
</ul>
</li>
<li><p><strong>在 jsx 中 写注释</strong>：推荐使用<code>{ /* 这是注释 */ }</code></p>
</li>
<li><p><strong>为 jsx 中的元素添加class类名</strong>：需要使用<code>className</code> 来替代 <code>class</code>；<code>htmlFor</code>替换label的<code>for</code>属性</p>
</li>
<li><p>在JSX创建DOM的时候，所有的节点，必须有唯一的根元素进行包裹；</p>
</li>
<li><p>在 jsx 语法中，标签必须 成对出现，如果是单标签，则必须自闭和！</p>
</li>
</ol>
<blockquote>
<p>当 编译引擎，在编译JSX代码的时候，如果遇到了<code>&lt;</code>那么就把它当作 HTML代码去编译，如果遇到了 <code>{}</code> 就把 花括号内部的代码当作 普通JS代码去编译；</p>
</blockquote>
<blockquote>
<p>(React 谷歌调试工具) <a href="https://chrome.google.com/webstore/category/extensions?hl=zh-CN" target="_blank" rel="noopener">https://chrome.google.com/webstore/category/extensions?hl=zh-CN</a></p>
</blockquote>
<h2 id="9-React中创建组件"><a href="#9-React中创建组件" class="headerlink" title="9. React中创建组件"></a>9. React中创建组件</h2><h3 id="第1种-创建组件的方式"><a href="#第1种-创建组件的方式" class="headerlink" title="第1种 - 创建组件的方式"></a>第1种 - 创建组件的方式</h3><blockquote>
<p><strong>使用构造函数来创建组件</strong>，如果要接收外界传递的数据，需要在 构造函数的参数列表中使用<code>props</code>来接收；</p>
<p>必须要向外return一个合法的JSX创建的虚拟DOM；</p>
</blockquote>
<ul>
<li><p>创建组件：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hello</span> (<span class="params"></span>) </span>&#123; </span><br><span class="line">	<span class="comment">// return null </span></span><br><span class="line">	<span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>Hello 组件<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>为组件传递数据：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用组件并 为组件传递 props 数据</span></span><br><span class="line">&lt;Hello name=&#123;dog.name&#125; age=&#123;dog.age&#125; gender=&#123;dog.gender&#125;&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Hello</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 在构造函数中，使用 props 形参，接收外界 传递过来的数据</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hello</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// props.name = 'zs'</span></span><br><span class="line">  <span class="built_in">console</span>.log(props)</span><br><span class="line">  <span class="comment">// 结论：不论是 Vue 还是 React，组件中的 props 永远都是只读的；不能被重新赋值；</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>这是 Hello 组件 --- &#123;props.name&#125; --- &#123;props.age&#125; --- &#123;props.gender&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ol>
<li><p>父组件向子组件传递数据</p>
</li>
<li><p>使用{…obj}展开运算符传递数据</p>
</li>
<li><p>将组件封装到单独的文件中</p>
</li>
<li><p>注意：组件的名称首字母必须是大写</p>
</li>
<li><p>在导入组件的时候，如何省略组件的<code>.jsx</code>后缀名：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 打开 webpack.config.js ，并在导出的配置对象中，新增 如下节点：</span></span><br><span class="line">resolve: &#123;</span><br><span class="line">    extensions: [<span class="string">'.js'</span>, <span class="string">'.jsx'</span>, <span class="string">'.json'</span>], <span class="comment">// 表示，这几个文件的后缀名，可以省略不写</span></span><br><span class="line">    alias: &#123;</span><br><span class="line">        <span class="string">'@'</span>: path.join(__dirname, <span class="string">'./src'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在导入组件的时候，配置和使用<code>@</code>路径符号</p>
</li>
</ol>
<h3 id="第2种-创建组件的方式"><a href="#第2种-创建组件的方式" class="headerlink" title="第2种 - 创建组件的方式"></a>第2种 - 创建组件的方式</h3><blockquote>
<p>使用 class 关键字来创建组件</p>
<p>ES6 中 class 关键字，是实现面向对象编程的新形式；</p>
</blockquote>
<h4 id="了解ES6中-class-关键字的使用"><a href="#了解ES6中-class-关键字的使用" class="headerlink" title="了解ES6中 class 关键字的使用"></a>了解ES6中 class 关键字的使用</h4><ol>
<li>class 中 <code>constructor</code> 的基本使用</li>
<li>实例属性和实例方法</li>
<li>静态属性和静态方法</li>
<li>使用 <code>extends</code> 关键字实现继承</li>
</ol>
<h4 id="基于class关键字创建组件"><a href="#基于class关键字创建组件" class="headerlink" title="基于class关键字创建组件"></a>基于class关键字创建组件</h4><ol>
<li><p>最基本的组件结构：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 如果要使用 class 定义组件，必须 让自己的组件，继承自 React.Component</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> 组件名称 <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 构造函数中声明组件私有变量</span></span><br><span class="line">    <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">        <span class="keyword">super</span>(props)</span><br><span class="line">        <span class="comment">// state中放状态值(既组件数据)</span></span><br><span class="line">        <span class="keyword">this</span>.state = &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// render函数负责渲染DOM部分</span></span><br><span class="line">    render()&#123;</span><br><span class="line">        <span class="comment">// render 函数中，必须 返回合法的 JSX 虚拟DOM结构</span></span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>这是 class 创建的组件<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>另一种class创建组件结构，无constructor创建</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 直接把state写道class里，定义的是实例对象的属性，对象会自动创建constructor，相对更简洁。</span></span><br><span class="line">  state = &#123;</span><br><span class="line">    a: <span class="literal">false</span>,</span><br><span class="line">    b: <span class="string">"not-panic"</span>,</span><br><span class="line">    c: <span class="keyword">this</span>.props.whatever</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="comment">// whatever you like</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="React的state写在constructor里面和直接写state有什么区别？？"><a href="#React的state写在constructor里面和直接写state有什么区别？？" class="headerlink" title="React的state写在constructor里面和直接写state有什么区别？？"></a>React的state写在constructor里面和直接写state有什么区别？？</h4><p>可以参考这篇文章： <a href="https://blog.csdn.net/duola8789/article/details/90142891?depth_1-utm_source=distribute.pc_relevant.none-task&amp;utm_source=distribute.pc_relevant.none-task" target="_blank" rel="noopener">React中初始化state的两种方法</a></p>
<h5 id="哪种更好"><a href="#哪种更好" class="headerlink" title="哪种更好"></a>哪种更好</h5><p>习惯使用哪种，就使用哪种。</p>
<p>class属性的方式看起来更加简单，不再需要额外的模板代码（<code>constructor</code>），也不需要提醒自己调用<code>super(props)</code></p>
<p>有的时候需要在<code>constructor</code>中处理事件处理函数（为函数绑定<code>this</code>，就像：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Thing</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.handleClick = <span class="keyword">this</span>.handleClick.bind(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleClick(event) &#123;</span><br><span class="line">    <span class="comment">// do stuff</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以通过Class属性的另外一种形式来替代上面的形式，可以让一个属性等于一个箭头函数，箭头函数获得了class实例的<code>this</code>，所以不再需要在<code>constructor</code>中显式的去绑定：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Thing</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  handleClick = <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// do stuff</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="React-的-PureComponent-Vs-Component"><a href="#React-的-PureComponent-Vs-Component" class="headerlink" title="React 的 PureComponent Vs Component"></a>React 的 PureComponent Vs Component</h4><p><strong>两种情况</strong></p>
<p>一般我们是这样的创建组件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line"></span><br><span class="line">class Admin extends Component &#123;</span><br><span class="line">  state = &#123;  &#125;</span><br><span class="line">  render() &#123; </span><br><span class="line">    return ( </span><br><span class="line">      &lt;div&gt;&lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">export default Admin;</span><br></pre></td></tr></table></figure>
<p>有些快捷方式创建出来是这样的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; PureComponent &#125; from &apos;react&apos;;</span><br><span class="line"></span><br><span class="line">class Admin extends PureComponent &#123;</span><br><span class="line">  state = &#123;  &#125;</span><br><span class="line">  render() &#123; </span><br><span class="line">    return ( </span><br><span class="line">      &lt;div&gt;&lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">export default Admin;</span><br></pre></td></tr></table></figure>
<p><strong>那么问题来了<code>PureComponent</code>和<code>Component</code>有什么区别呢？</strong></p>
<h2 id="10-两种创建组件方式的对比"><a href="#10-两种创建组件方式的对比" class="headerlink" title="10. 两种创建组件方式的对比"></a>10. 两种创建组件方式的对比</h2><ol>
<li>用<strong>函数</strong>创建出来的组件：无状态组件；</li>
<li>用<strong>class关键字</strong>创建出来的组件：有状态组件；</li>
<li>什么情况下使用有状态组件？什么情况下使用无状态组件？<ul>
<li>如果组件内，不需要有私有的数据，此时，使用构造函数创建无状态组件比较合适；</li>
<li>如果组件内，需要有自己私有的数据，则，使用 class 关键字 创建有状态组件比较合适；</li>
</ul>
</li>
<li>组件中的 <code>props</code> 和 <code>state</code> 之间的区别<ul>
<li>props 中存储的数据，都是外界传递到组件中的；</li>
<li>props 中的数据，都是只读的；</li>
<li>state 中的数据，都是组件内私有的；</li>
<li>state 中的数据，都是可读可写的；</li>
<li>props 在有状态组件 和 无状态组件中，都有；</li>
<li>state 只有在有状态组件中才能使用；无状态组件中，没有 state；</li>
<li>在有状态组件中拥有 生命周期函数，无状组件不存在</li>
</ul>
</li>
</ol>
<h3 id="通过for循环生成多个组件"><a href="#通过for循环生成多个组件" class="headerlink" title="通过for循环生成多个组件"></a>通过for循环生成多个组件</h3><ol>
<li>数据：<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CommentList: [</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">user</span>: <span class="string">'张三'</span>, <span class="attr">content</span>: <span class="string">'哈哈，沙发'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">user</span>: <span class="string">'李四'</span>, <span class="attr">content</span>: <span class="string">'哈哈，板凳'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">user</span>: <span class="string">'王五'</span>, <span class="attr">content</span>: <span class="string">'哈哈，凉席'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">4</span>, <span class="attr">user</span>: <span class="string">'赵六'</span>, <span class="attr">content</span>: <span class="string">'哈哈，砖头'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">5</span>, <span class="attr">user</span>: <span class="string">'田七'</span>, <span class="attr">content</span>: <span class="string">'哈哈，楼下山炮'</span> &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><img alt data-src="React/cmtlist.png" class="lozad"><br><img data-src="/2019/10/24/React/cmtlist.png" class="lozad"><br>jsx代码实现：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> React = <span class="built_in">require</span>(<span class="string">'react'</span>);</span><br><span class="line"><span class="keyword">const</span> ReactDOM = <span class="built_in">require</span>(<span class="string">'react-dom'</span>);</span><br><span class="line"><span class="comment">// 基础渲染</span></span><br><span class="line"><span class="comment">// class Comment extends React.Component &#123;</span></span><br><span class="line"><span class="comment">// 	constructor(props) &#123;</span></span><br><span class="line"><span class="comment">// 		super(props);</span></span><br><span class="line"><span class="comment">// 		this.state = &#123;</span></span><br><span class="line"><span class="comment">// 			CommentList: [</span></span><br><span class="line"><span class="comment">// 				&#123; id: 1, user: '张三', content: '哈哈，沙发' &#125;,</span></span><br><span class="line"><span class="comment">// 				&#123; id: 2, user: '李四', content: '哈哈，板凳' &#125;,</span></span><br><span class="line"><span class="comment">// 				&#123; id: 3, user: '王五', content: '哈哈，凉席' &#125;,</span></span><br><span class="line"><span class="comment">// 				&#123; id: 4, user: '赵六', content: '哈哈，砖头' &#125;,</span></span><br><span class="line"><span class="comment">// 				&#123; id: 5, user: '田七', content: '哈哈，楼下山炮' &#125;</span></span><br><span class="line"><span class="comment">// 			]</span></span><br><span class="line"><span class="comment">// 		&#125;;</span></span><br><span class="line"><span class="comment">// 	&#125;</span></span><br><span class="line"><span class="comment">// 	render() &#123;</span></span><br><span class="line"><span class="comment">// 		return (</span></span><br><span class="line"><span class="comment">// 			this.state.CommentList.map(item =&gt; &#123;</span></span><br><span class="line"><span class="comment">// 				return (</span></span><br><span class="line"><span class="comment">// 					&lt;div key="item.id"&gt;</span></span><br><span class="line"><span class="comment">// 						&lt;h4&gt;评论人：&#123;item.user&#125;&lt;/h4&gt;</span></span><br><span class="line"><span class="comment">// 						&lt;p&gt;评论内容：&#123;item.content&#125;&lt;/p&gt;</span></span><br><span class="line"><span class="comment">// 					&lt;/div&gt;</span></span><br><span class="line"><span class="comment">// 				)</span></span><br><span class="line"><span class="comment">// 			&#125;)</span></span><br><span class="line"><span class="comment">// 		);</span></span><br><span class="line"><span class="comment">// 	&#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// 分离组件渲染</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Item</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(props)</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h3&gt;评论人：&#123;props.data.user&#125;&lt;<span class="regexp">/h3&gt;</span></span><br><span class="line"><span class="regexp">      &lt;p&gt;评论内容：&#123;props.data.content&#125;&lt;/</span>p&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">class Comment extends React.Component &#123;</span></span><br><span class="line"><span class="regexp">  constructor(props) &#123;</span></span><br><span class="line"><span class="regexp">    super(props)</span></span><br><span class="line"><span class="regexp">    this.state = &#123;</span></span><br><span class="line"><span class="regexp">      CommentList: [</span></span><br><span class="line"><span class="regexp">        &#123; id: 1, user: '张三', content: '哈哈，沙发' &#125;,</span></span><br><span class="line"><span class="regexp">        &#123; id: 2, user: '李四', content: '哈哈，板凳' &#125;,</span></span><br><span class="line"><span class="regexp">        &#123; id: 3, user: '王五', content: '哈哈，凉席' &#125;,</span></span><br><span class="line"><span class="regexp">        &#123; id: 4, user: '赵六', content: '哈哈，砖头' &#125;,</span></span><br><span class="line"><span class="regexp">        &#123; id: 5, user: '田七', content: '哈哈，楼下山炮' &#125;</span></span><br><span class="line"><span class="regexp">      ]</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">  render() &#123;</span></span><br><span class="line"><span class="regexp">    return (</span></span><br><span class="line"><span class="regexp">      this.state.CommentList.map(val =&gt; &lt;Item key=&#123;val.id&#125; data=&#123;val&#125;/</span>&gt;)</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">ReactDOM.render(<span class="xml"><span class="tag">&lt; <span class="attr">Comment</span> /&gt;</span>, document.getElementById('app'))</span></span><br></pre></td></tr></table></figure>
<h2 id="11-设置样式"><a href="#11-设置样式" class="headerlink" title="11. 设置样式"></a>11. 设置样式</h2><ul>
<li>style-loader</li>
<li>css-loader</li>
<li>babel-plugin-react-html-attrs</li>
</ul>
<ol>
<li><p>使用普通的 <code>style</code> 样式(内嵌样式)</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 style=&#123;&#123;<span class="attr">color</span>: <span class="string">'red'</span>, <span class="attr">fontWeight</span>: <span class="number">200</span>&#125;&#125;&gt;<span class="xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>使用行内样式</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> backAndTextColor = &#123;</span><br><span class="line">    backgroundColor:<span class="string">'blue'</span>,</span><br><span class="line">    color:<span class="string">'#ff671b'</span>,</span><br><span class="line">    fontSize:<span class="number">40</span></span><br><span class="line">&#125;;</span><br><span class="line">&lt;div style=&#123;backAndTextColor&#125;&gt;行内样式测试&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>安装loader包</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install style-loader css-loader -D</span><br><span class="line"></span><br><span class="line"><span class="comment">// 单纯使用loader解析css样式表配置</span></span><br><span class="line">&#123; <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>] &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>启用 css-modules</p>
<ol>
<li><p>修改 <code>webpack.config.js</code>这个配置文件，为 <code>css-loader</code> 添加参数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 启用 CSS 模块化配置</span></span><br><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">        &#123;</span><br><span class="line">            test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">            exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">            use: [</span><br><span class="line">                &#123; </span><br><span class="line">                    loader: <span class="string">'style-loader'</span> </span><br><span class="line">                &#125;,</span><br><span class="line">                &#123; </span><br><span class="line">                    loader: <span class="string">'css-loader'</span> ,</span><br><span class="line">                    <span class="comment">// 配置css-loader</span></span><br><span class="line">                    options: &#123;</span><br><span class="line">                        <span class="comment">// 开启css模块化</span></span><br><span class="line">                        <span class="built_in">module</span>: <span class="literal">true</span>,</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>在需要的组件中，<code>import</code>导入样式表，并接收模块化的 CSS 样式对象：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">非模块化使用，样式全局有效</span><br><span class="line"><span class="keyword">import</span> <span class="string">'@/React/index.css'</span>;</span><br><span class="line">模块化使用每个.css文件中的样式 唯一（即使同名但是在不同.css文件中）</span><br><span class="line"><span class="keyword">import</span> cssObj <span class="keyword">from</span> <span class="string">'../css/CmtList.css'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在需要的HTML标签上，使用<code>className</code>指定模块化的样式：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 className=&#123;cssObj.title&#125;&gt;评论列表组件&lt;<span class="regexp">/h1&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>模块化配置及使用说明</p>
<blockquote>
<p>1、那个组件使用在那个组件中使用；</p>
<p>2、拓展插件：babel-plugin-react-html-attrs</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt;# For Babel 6</span><br><span class="line">&gt;npm install --save-dev babel-plugin-react-html-attrs</span><br><span class="line">&gt;# For Babel 5</span><br><span class="line">&gt;npm install --save-dev babel-plugin-react-html-attrs@<span class="number">1.0</span><span class="number">.0</span></span><br><span class="line">&gt;</span><br><span class="line">&gt;<span class="comment">// 配置</span></span><br><span class="line">&gt;在项目根目录下的.babelrc文件中粘贴代码</span><br><span class="line">&gt;&#123;</span><br><span class="line">&gt;  <span class="string">"plugins"</span>: [</span><br><span class="line">&gt;    <span class="string">"react-html-attrs"</span></span><br><span class="line">&gt;  ]</span><br><span class="line">&gt;&#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>使用<code>localIdentName</code>自定义生成的类名格式，可选的参数有：</p>
<ul>
<li><p>[path]  表示样式表 <code>相对于项目根目录</code> 所在路径</p>
</li>
<li><p>[name]  表示 样式表文件名称</p>
</li>
<li><p>[local]  表示样式的类名定义名称</p>
</li>
<li><p>[hash:length]  表示32位的hash值</p>
</li>
<li><p>例子：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 连起来写</span></span><br><span class="line">&#123; </span><br><span class="line">    test: /\.css$/, </span><br><span class="line">    use: [</span><br><span class="line">        'style-loader', </span><br><span class="line">        'css-loader?modules&amp;localIdentName=[path][name]-[local]-[hash:5]'</span><br><span class="line">    ] </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 分开来写</span></span><br><span class="line">&#123; </span><br><span class="line">    test: /\.css$/, </span><br><span class="line">    use: [</span><br><span class="line">        &#123;</span><br><span class="line">            loader: 'style-loader'</span><br><span class="line">        &#125;, </span><br><span class="line">        &#123;</span><br><span class="line">            loader: 'css-loader',</span><br><span class="line">            options: &#123;</span><br><span class="line">                modules: true,</span><br><span class="line">            	localIdentName: '[path][name]-[local]-[hash:5]'</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ] </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<ol start="7">
<li><p>使用 <code>:local()</code> 和 <code>:global()</code></p>
<ul>
<li><p><code>:local()</code>包裹的类名，是被模块化的类名，只能通过<code>className={cssObj.类名}</code>来使用</p>
<p>同时，<code>:local</code>默认可以不写，这样，默认在样式表中定义的类名，都是被模块化的类名；</p>
</li>
<li><p><code>:global()</code>包裹的类名，是全局生效的，不会被 <code>css-modules</code> 控制，定义的类名是什么，就是使用定义的类名<code>className=&quot;类名&quot;</code></p>
</li>
<li><p>例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:local(title)&#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<ol start="8">
<li>注意：只有<code>.title</code>这样的类样式选择器，才会被模块化控制，类似于<code>body</code>这样的标签选择器，不会被模块化控制；</li>
</ol>
<h4 id="》在项目中启用模块化并同时使用bootstrap"><a href="#》在项目中启用模块化并同时使用bootstrap" class="headerlink" title="》在项目中启用模块化并同时使用bootstrap"></a>》在项目中启用模块化并同时使用bootstrap</h4><p>1、先安装bootstrap，less库</p>
<p><code>npm install bootstrap@3.3.7 --save</code></p>
<p><code>npm install less --save</code></p>
<ol>
<li><p>需要安装loader</p>
<ul>
<li><p>url-loader </p>
</li>
<li><p>file-loader</p>
</li>
<li><p>less-loader</p>
</li>
<li><p>scss-loader</p>
<p>安装：<code>npm install url-loader file-loader --save</code></p>
</li>
</ul>
</li>
<li><p>把 自己的样式表，定义为 <code>.scss</code>  文件</p>
</li>
<li><p>第三方的 样式表，还是 以 <code>.css</code> 结尾</p>
</li>
<li><p>我们只需要为自己的 <code>.scss</code> 文件，启用模块化即可；</p>
</li>
<li><p>运行<code>cnpm i sass-loader node-sass -D</code> 安装能够解析<code>scss</code>文件的loader</p>
</li>
<li><p>添加loader规则：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 打包处理 scss 文件的 loader</span></span><br><span class="line">&#123; </span><br><span class="line">    test: /\.scss$/, </span><br><span class="line"> 	use: [</span><br><span class="line">        'style-loader', </span><br><span class="line">        'css-loader?modules&amp;localIdentName=[path][name]-[local]-[hash:5]', </span><br><span class="line">        'sass-loader'</span><br><span class="line">     ] </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<blockquote>
<p><strong>由于第三方 UI 样式库一般不建议模块化，但是自定义样式表又希望模块化，所以定义为不同的样式类型文件，比如：第三方为.css结尾，自定义则为.scss或者.less</strong></p>
</blockquote>
<p>2、遇坑解决方法</p>
<p>webpack官方文档及百度配置，但是<strong>最新版本v3.2.0会报错</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: /\.less$/,</span><br><span class="line">    use: [</span><br><span class="line">        &#123;</span><br><span class="line">            loader: 'style-loader',</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            loader: 'css-loader',</span><br><span class="line">            <span class="comment">// 配置css-loader</span></span><br><span class="line">            options: &#123;</span><br><span class="line">                <span class="comment">// 开启css模块化</span></span><br><span class="line">                modules: true,</span><br><span class="line">                localIdentName: '[local]-[hash:base64:5]',</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            loader: 'less-loader',</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p><img alt data-src="React/error.png" class="lozad"><br><img data-src="/2019/10/24/React/error.png" class="lozad"><br>看过GitHub上文档之后，配置如下</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: /\.less$/,</span><br><span class="line">    use: [</span><br><span class="line">        &#123;</span><br><span class="line">            loader: 'style-loader',</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            loader: 'css-loader',</span><br><span class="line">            <span class="comment">// 配置css-loader</span></span><br><span class="line">            options: &#123;</span><br><span class="line">                <span class="comment">// 开启css模块化</span></span><br><span class="line">                modules: &#123;</span><br><span class="line">                    mode: 'local',</span><br><span class="line">                    localIdentName: '[local]-[hash:base64:5]',</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            loader: 'less-loader',</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>localIdentName</code>需要写在modules里边</p>
</blockquote>
<h1 id="二、-React-中绑定事件"><a href="#二、-React-中绑定事件" class="headerlink" title="二、 React 中绑定事件"></a>二、 React 中绑定事件</h1><ol>
<li><p>事件的名称都是React提供的，因此名称的首字母必须大写<code>onClick</code>、<code>onMouseOver</code>、<code>onMouseEnter</code>、<code>onChange</code></p>
</li>
<li><p>为事件提供的处理函数，必须是如下格式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">onClick = &#123; function &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>用的最多的事件绑定形式为：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;button onClick=&#123; () =&gt; <span class="keyword">this</span>.show(<span class="string">'传参'</span>) &#125;&gt;按钮&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ 事件的处理函数，需要定义为 一个箭头函数，然后赋值给 函数名称</span></span><br><span class="line"><span class="regexp">show = (arg1) =&gt; &#123;</span></span><br><span class="line"><span class="regexp">    console.log('show方法' + arg1)</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在React中，如果想要修改 state 中的数据，推荐使用 <code>this.setState({ })</code></p>
</li>
</ol>
<p><strong>重点注意：</strong>函数中的this问题，解决方法可以用<strong>箭头函数</strong>，官方建议是在constructor中通过bind或者call改变函数的this指向</p>
<h3 id="1-绑定文本框与state中的值（单向数据流-双向数据流）"><a href="#1-绑定文本框与state中的值（单向数据流-双向数据流）" class="headerlink" title="1. 绑定文本框与state中的值（单向数据流|双向数据流）"></a>1. 绑定文本框与state中的值（单向数据流|双向数据流）</h3><blockquote>
<p>像原生一样通过给input框绑定onChange等事件监听value值得变化，再通过事件对象<strong>event.target</strong>获取并改变dom对象的value值</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Btn</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props)</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      number: <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 这里可以改变this的指向</span></span><br><span class="line">    <span class="keyword">this</span>.add = <span class="keyword">this</span>.add.bind(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.setnum = <span class="keyword">this</span>.setnum.bind(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  # 单向数据流</span><br><span class="line">  add() &#123;</span><br><span class="line">    <span class="comment">// console.log(this.state.number++);</span></span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">      number: <span class="keyword">this</span>.state.number + <span class="number">1</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  # 双向数据流</span><br><span class="line">  setnum(ev) &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">      number: <span class="built_in">Number</span>(ev.target.value)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="keyword">this</span>.add&#125;&gt;点击&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">        &lt;input type="text" value=&#123;this.state.number&#125; onChange=&#123;this.setnum&#125;/</span>&gt;</span><br><span class="line">        &lt;p&gt;&#123;<span class="keyword">this</span>.state.number&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="三、使用ref获取DOM元素引用"><a href="#三、使用ref获取DOM元素引用" class="headerlink" title="三、使用ref获取DOM元素引用"></a>三、使用ref获取DOM元素引用</h1><p>和 Vue 中差不多，vue 为页面上的元素提供了 <code>ref</code> 的属性，如果想要获取 元素引用，则需要使用<code>this.$refs.引用名称</code></p>
<p>在 React 中，也有 <code>ref</code>, 如果要获取元素的引用<code>this.refs.引用名称</code></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;p ref=<span class="string">"p"</span>&gt;我要变色&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">            &lt;button onClick=&#123;this.handle&#125;&gt;变色&lt;/</span>button&gt;</span><br><span class="line">        &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">handle() &#123;</span></span><br><span class="line"><span class="regexp">    this.refs.p.style.color = 'red';</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
<h1 id="四、-组件的生命周期"><a href="#四、-组件的生命周期" class="headerlink" title="四、 组件的生命周期"></a>四、 组件的生命周期</h1><ul>
<li><p>生命周期的概念：每个组件的实例，从 创建、到运行、直到销毁，在这个过程中，会出发一些列 事件，这些事件就叫做组件的生命周期函数；</p>
</li>
<li><p>React组件生命周期分为三部分：</p>
<ul>
<li><strong>组件创建阶段</strong>：特点：一辈子只执行一次</li>
</ul>
<blockquote>
<p>componentWillMount:<br>render：<br>componentDidMount: </p>
</blockquote>
<ul>
<li><strong>组件运行阶段</strong>：按需，根据 props 属性 或 state 状态的改变，有选择性的 执行 0 到多次</li>
</ul>
<blockquote>
<p>componentWillReceiveProps:<br>shouldComponentUpdate:<br>componentWillUpdate:<br>render:<br>componentDidUpdate: </p>
</blockquote>
<ul>
<li><strong>组件销毁阶段</strong>：一辈子只执行一次</li>
</ul>
<blockquote>
<p>componentWillUnmount: </p>
</blockquote>
</li>
</ul>
<p><a href="http://www.race604.com/react-native-component-lifecycle/" target="_blank" rel="noopener">React Native 中组件的生命周期</a></p>
<p><img alt data-src="React/LifeCycle.png" class="lozad"><br><img data-src="/2019/10/24/React/LifeCycle.png" class="lozad"><br>React生命周期的回调函数总结成表格如下：<br><img alt data-src="React/LifeCycleTable.png" class="lozad"><br><img data-src="/2019/10/24/React/LifeCycleTable.png" class="lozad"><br>组件生命周期的执行顺序：</p>
<ol>
<li><strong>Mounting：</strong><ul>
<li>constructor()</li>
<li>componentWillMount()</li>
<li>render()</li>
<li>componentDidMount()</li>
</ul>
</li>
<li><strong>Updating：</strong><ul>
<li>componentWillReceiveProps(nextProps)</li>
<li>shouldComponentUpdate(nextProps, nextState)</li>
<li>componentWillUpdate(nextProps, nextState)</li>
<li>render()</li>
<li>componentDidUpdate(prevProps, prevState)</li>
</ul>
</li>
<li><strong>Unmounting：</strong><ul>
<li>componentWillUnmount()</li>
</ul>
</li>
</ol>
<h1 id="五、React组件参数及传参"><a href="#五、React组件参数及传参" class="headerlink" title="五、React组件参数及传参"></a>五、React组件参数及传参</h1><h2 id="1、属性介绍"><a href="#1、属性介绍" class="headerlink" title="1、属性介绍"></a>1、属性介绍</h2><p>react通过绑定组件的属性来传递参数props</p>
<p>无状态组件传值：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> React = <span class="built_in">require</span>(<span class="string">'react'</span>);</span><br><span class="line"><span class="keyword">const</span> ReactDOM = <span class="built_in">require</span>(<span class="string">'react-dom'</span>);</span><br><span class="line"><span class="comment">// 组件传值</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;span&gt;我是子组件的内容&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">            &lt;br&gt;&lt;/</span>br&gt;</span><br><span class="line">            &lt;span&gt;&#123;props.name&#125;&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Son name=&#123;props.name&#125;&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Son</span>&gt;</span></span></span><br><span class="line">            &lt;h1&gt;&#123; props.name &#125;&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;Parent name=<span class="string">"传值"</span> /&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'app'</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>有状态组件传值</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> React = <span class="built_in">require</span>(<span class="string">'react'</span>); <span class="comment">// 引入方式不做要求，require和import均可</span></span><br><span class="line"><span class="keyword">const</span> ReactDOM = <span class="built_in">require</span>(<span class="string">'react-dom'</span>);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">List</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123; <span class="comment">// 从这里可以接收到组件属性传递的数据</span></span><br><span class="line">    <span class="keyword">super</span>(props)</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;&#123;<span class="keyword">this</span>.props.name&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">ReactDOM.render(</span></span><br><span class="line"><span class="regexp">  &lt;div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;List name=&#123;0&#125;/</span>&gt; <span class="comment">// 此处将会传递给组件一个name属性的值，在props中可以拿到</span></span><br><span class="line">  &lt;<span class="regexp">/div&gt;,</span></span><br><span class="line"><span class="regexp">document.getElementById('app'))</span></span><br></pre></td></tr></table></figure>
<h3 id="defaultProps"><a href="#defaultProps" class="headerlink" title="defaultProps"></a>defaultProps</h3><p>在组件创建之前，会先初始化默认的props属性，这是全局调用一次，严格地来说，这不是组件的生命周期的一部分。在组件被创建并加载候，首先调用 constructor 构造器中的 this.state = {}，来初始化组件的状态。</p>
<h3 id="propTypes"><a href="#propTypes" class="headerlink" title="propTypes"></a>propTypes</h3><p>配合defaultProps来对组件传递的参数进行规则校验</p>
<h3 id="示例：Counter计数器"><a href="#示例：Counter计数器" class="headerlink" title="示例：Counter计数器"></a>示例：Counter计数器</h3><ol>
<li><p>依赖包<code>prop-types</code></p>
</li>
<li><p>给 <code>props</code> 属性提供默认值 和 进行类型校验，需要先运行<code>cnpm i prop-types --save</code></p>
</li>
<li><p>给组件的 <code>props</code> 提供默认值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 为组件提供 默认的 props 属性值</span></span><br><span class="line"><span class="keyword">static</span> defaultProps = &#123;</span><br><span class="line">	initcount: <span class="number">0</span> <span class="comment">// 默认值为0    如果用户没有传递 ，则 默认就是0； 如果用户传递了，则 以用户传递的为准</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>给组件的 <code>props</code> 进行类型校验</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 3. 进行 props 属性的类型校验,   static propTypes = &#123;&#125;  是固定写法</span></span><br><span class="line"><span class="keyword">static</span> propTypes = &#123;</span><br><span class="line">	initcount: PropTypes.number.isRequired <span class="comment">// 规定 外界在传递 initcount 的时候，必须是 number 值类型，否则 ，会在终端报警告</span></span><br><span class="line">	<span class="comment">// isRequired 表示 这个 props 属性值 是必须要传递的</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>校验实例</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span></span><br><span class="line"><span class="keyword">import</span> propTypes <span class="keyword">from</span> <span class="string">'prop-types'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Verify</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props)</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      i: <span class="keyword">this</span>.props.count</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.add = <span class="keyword">this</span>.add.bind(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;p&gt;&#123;<span class="keyword">this</span>.state.i&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">        &lt;input title=&#123;this.props.color&#125;&gt;&lt;/i</span>nput&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="keyword">this</span>.add&#125;&gt;增加&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">  add() &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">      i: ++<span class="keyword">this</span>.state.i</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 在组件内部调用此方法需要ES7语法，外部调用为ES6语法</span></span><br><span class="line">/ ES6语法</span><br><span class="line">Verify.defaultProps = &#123;</span><br><span class="line">  color: <span class="string">'blue'</span>,</span><br><span class="line">  count: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line">Verify.propTypes = &#123;</span><br><span class="line">  count: propTypes.number</span><br><span class="line">&#125;</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Verify count=&#123;<span class="number">3</span>&#125;/&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt; ,</span></span><br><span class="line"><span class="regexp">  document.getElementById('app')</span></span><br><span class="line"><span class="regexp">)</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="2、父子组件传值"><a href="#2、父子组件传值" class="headerlink" title="2、父子组件传值"></a>2、父子组件传值</h2><ul>
<li><p>子传父：可以通过props属性进行传值</p>
</li>
<li><p>父传子：可以通过在标签属性定义一个回调函数，进行传参</p>
</li>
</ul>
<p>parent.jsx</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> Son <span class="keyword">from</span> <span class="string">"@/byvalue/son"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props)</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      name: <span class="string">'小明'</span>,</span><br><span class="line">      list: [<span class="string">'蜀道难'</span>, <span class="string">'难于上青天'</span>, <span class="string">'蚕丛及鱼凫'</span>],</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.getData = <span class="keyword">this</span>.getData.bind(<span class="keyword">this</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &#123;<span class="comment">/* pushItem即是定义一个函数事件用来获取子组件中的传值 */</span>&#125;</span><br><span class="line">        &lt;Son name=&#123;<span class="keyword">this</span>.state.name&#125; pushItem=&#123;<span class="keyword">this</span>.getData&#125;/&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="keyword">this</span>.state.list.map(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">              <span class="keyword">return</span> (</span><br><span class="line">                &lt;li key=&#123;item&#125;&gt;&#123;item&#125;&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">              )</span></span><br><span class="line"><span class="regexp">            &#125;)</span></span><br><span class="line"><span class="regexp">          &#125;</span></span><br><span class="line"><span class="regexp">        &lt;/u</span>l&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">  getData(param) &#123;</span></span><br><span class="line"><span class="regexp">    console.log(param)</span></span><br><span class="line"><span class="regexp">    let arr = this.state.list</span></span><br><span class="line"><span class="regexp">    arr.push(param)</span></span><br><span class="line"><span class="regexp">    this.setState(&#123;</span></span><br><span class="line"><span class="regexp">      list: arr</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">  </span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
<p>son.jsx</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Son</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">        <span class="keyword">super</span>(props)</span><br><span class="line">        <span class="keyword">this</span>.state = &#123;</span><br><span class="line">            name: <span class="keyword">this</span>.props.name,</span><br><span class="line">            item: <span class="string">''</span>,</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.setList = <span class="keyword">this</span>.setList.bind(<span class="keyword">this</span>)</span><br><span class="line">        <span class="keyword">this</span>.setData = <span class="keyword">this</span>.setData.bind(<span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.state.name);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.props.name);</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;span&gt;&#123;<span class="keyword">this</span>.props.name&#125;&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">         &#123;/</span>* 此处通过设置事件onChange获取input的value值，通过ref属性可以获取input对象 *<span class="regexp">/&#125;</span></span><br><span class="line"><span class="regexp">                &lt;input type="text" value=&#123;this.state.item&#125; onChange=&#123;this.setList&#125; ref=&#123;myInput=&gt;this.myInput=myInput&#125;/</span>&gt;</span><br><span class="line">                &lt;button onClick=&#123;<span class="keyword">this</span>.setData&#125;&gt;添加&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">    setList(ev) &#123;</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">            item: ev.target.value</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    setData() &#123;</span><br><span class="line">        <span class="comment">// pushItem是子组件在父组件中定义的一个事件属性</span></span><br><span class="line">        <span class="keyword">this</span>.props.pushItem(<span class="keyword">this</span>.state.item)</span><br><span class="line">        <span class="comment">// 此处在input框传递给父组件值之后清空输入框的值</span></span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">            item: <span class="string">''</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// 通过ref绑定的值，使光标重新定位到当前input框内</span></span><br><span class="line">        <span class="keyword">this</span>.myInput.focus()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="六、axios请求"><a href="#六、axios请求" class="headerlink" title="六、axios请求"></a>六、axios请求</h1><ol>
<li><p>用于测试的API地址：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">get</span> 请求地址： http://www.liulongbin.top:3005/api/getlunbo</span><br><span class="line">post请求地址： http://www.liulongbin.top:3005/api/post</span><br></pre></td></tr></table></figure>
</li>
<li><p>全局配置<code>axios</code>从而让每个组件都能直接调用<code>axios</code>发起Ajax请求</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// class 关键字 底层 也是由 普通 function 构造函数来实现的，因此 class 只是个语法糖</span></span><br><span class="line">React.Component.prototype.$http = axios</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在每个 用 class 关键字 创建的 组件，都可以直接调用`this.$http`来发起Ajax请求</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>全局配置请求的<code>baseURL</code>地址</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 全局配置请求的URL根路径</span></span><br><span class="line">axios.defaults.baseURL = <span class="string">'http://www.liulongbin.top:3005'</span>;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="1、表格渲染案例"><a href="#1、表格渲染案例" class="headerlink" title="1、表格渲染案例"></a>1、表格渲染案例</h2><h3 id="a-表格渲染"><a href="#a-表格渲染" class="headerlink" title="a. 表格渲染"></a>a. 表格渲染</h3><p>brandList.jsx</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="comment">// 引入表格组件和弹出对话框组件</span></span><br><span class="line"><span class="keyword">import</span> &#123; Table, Modal, Button &#125; <span class="keyword">from</span> <span class="string">'antd'</span></span><br><span class="line"><span class="keyword">const</span> &#123; confirm &#125; = Modal;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">List</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props)</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      <span class="comment">// colums就是配置表格列属性的配置项</span></span><br><span class="line">      columns: [</span><br><span class="line">        &#123;</span><br><span class="line">          title: <span class="string">'编号'</span>,</span><br><span class="line">          dataIndex: <span class="string">'id'</span>,</span><br><span class="line">          key: <span class="string">'id'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          title: <span class="string">'创建时间'</span>,</span><br><span class="line">          dataIndex: <span class="string">'ctime'</span>,</span><br><span class="line">          key: <span class="string">'ctime'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          title: <span class="string">'寄语'</span>,</span><br><span class="line">          dataIndex: <span class="string">'name'</span>,</span><br><span class="line">          key: <span class="string">'name'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          title: <span class="string">'操作'</span>,</span><br><span class="line">		  # 返回数据没有此列的数据，此列为操作列，那么可以用render函数来渲染出自己想要的组件</span><br><span class="line">          <span class="comment">// 其中组件有三个参数</span></span><br><span class="line">          render: <span class="function">(<span class="params">text, record, index</span>) =&gt;</span> &#123;</span><br><span class="line">          	<span class="number">1</span>、这是最常用的一个事件传参bind指向<span class="keyword">this</span>之后，第二个参数之后都可以传递本列数据以作为参数</span><br><span class="line">            <span class="comment">// return &lt;a href="javascript:;" onClick=&#123;this.delItem.bind(this, text, record, index)&#125;&gt;删除&lt;/a&gt;</span></span><br><span class="line">          	<span class="number">2</span>、第二种方法，重新定义一个箭头函数，内部调用操作函数</span><br><span class="line">            <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;this.delItem(text, record, index)&#125;&#125;&gt;删除<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">      data: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 获取数据的生命周期函数</span></span><br><span class="line">  componentWillMount() &#123;</span><br><span class="line">    <span class="keyword">this</span>.getData()</span><br><span class="line">  &#125;</span><br><span class="line">  getData() &#123;</span><br><span class="line">    <span class="comment">// 全局导入axios之后，进行调用</span></span><br><span class="line">    <span class="keyword">this</span>.$http.get(<span class="string">'/api/getprodlist'</span>).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(res);</span><br><span class="line">      <span class="keyword">this</span>.$message.success(<span class="string">'数据请求成功！'</span>)</span><br><span class="line">      <span class="keyword">let</span> info = res.data.message;</span><br><span class="line">      #通过moment插件自定义一个时间过滤器</span><br><span class="line">      info.forEach(<span class="function"><span class="params">val</span> =&gt;</span> &#123;</span><br><span class="line">        val.ctime = <span class="keyword">this</span>.$moment(val.ctime).format(<span class="string">'YYYY-MM-DD'</span>)</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">        data: res.data.message</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  delItem(text, record, index) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(text, record, index);</span><br><span class="line">    <span class="comment">// 这是对话框组件</span></span><br><span class="line">    confirm(&#123;</span><br><span class="line">      title: <span class="string">'提示?'</span>,</span><br><span class="line">      content: <span class="string">'你确定要删除本条信息吗？'</span>,</span><br><span class="line">      okText: <span class="string">'确定'</span>,</span><br><span class="line">      okType: <span class="string">'danger'</span>,</span><br><span class="line">      cancelText: <span class="string">'取消'</span>,</span><br><span class="line">      onOk:<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.$http.get(<span class="string">'/api/delproduct/'</span>+ record.id).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(res);</span><br><span class="line">          <span class="keyword">if</span>(res.data.status == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">this</span>.getData()</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      onCancel:<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Cancel'</span>);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div style=&#123;&#123;<span class="attr">marginTop</span>: <span class="string">'20px'</span>&#125;&#125;&gt;</span><br><span class="line">        &lt;h2 style=&#123;&#123;<span class="attr">margin</span>:<span class="string">'0 atuo'</span>, <span class="attr">textAlign</span>: <span class="string">'center'</span>&#125;&#125;&gt;品牌列表&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">        &lt;hr/</span>&gt;</span><br><span class="line">        &lt;Table rowKey=&#123;<span class="string">'id'</span>&#125; columns=&#123;<span class="keyword">this</span>.state.columns&#125; dataSource=&#123;<span class="keyword">this</span>.state.data&#125;&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Table</span>&gt;</span></span></span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default List</span></span><br></pre></td></tr></table></figure>
<h3 id="b-全局引入antd组件"><a href="#b-全局引入antd组件" class="headerlink" title="b. 全局引入antd组件"></a>b. 全局引入antd组件</h3><h3 id="c-全局引入第三方插件moment"><a href="#c-全局引入第三方插件moment" class="headerlink" title="c. 全局引入第三方插件moment"></a>c. 全局引入第三方插件moment</h3><h3 id="d-提取公共引用"><a href="#d-提取公共引用" class="headerlink" title="d. 提取公共引用"></a>d. 提取公共引用</h3><p>global.js全局引用</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"><span class="keyword">import</span> &#123; message &#125; <span class="keyword">from</span> <span class="string">"antd"</span>;</span><br><span class="line"><span class="keyword">import</span> moment <span class="keyword">from</span> <span class="string">"moment"</span>;</span><br><span class="line"><span class="comment">// 简单引用并配置axios</span></span><br><span class="line">axios.defaults.baseURL = <span class="string">'http://www.liulongbin.top:3005'</span>;</span><br><span class="line">React.Component.prototype.$http = axios</span><br><span class="line">将插件和组件拷贝给react组件原型</span><br><span class="line">React.Component.prototype.$message = message</span><br><span class="line">React.Component.prototype.$moment = moment</span><br></pre></td></tr></table></figure>
<h3 id="问题："><a href="#问题：" class="headerlink" title="问题："></a>问题：</h3><h4 id="1、为什么事件调用函数需要重新指向this，但是请求行数却不需要"><a href="#1、为什么事件调用函数需要重新指向this，但是请求行数却不需要" class="headerlink" title="1、为什么事件调用函数需要重新指向this，但是请求行数却不需要"></a>1、为什么事件调用函数需要重新指向this，但是请求行数却不需要</h4><blockquote>
<p>原因： 因为react中事件本身（如：onClick）就是个中间变量，把函数直接赋值给变量this就会丢失。而请求函数并没有这个步骤，this未发生改变</p>
</blockquote>
<p>例子</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    tmp:<span class="string">'Yes!'</span>,</span><br><span class="line">    onClick:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.tmp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> handleClick = obj.onClick;</span><br><span class="line">handleClick(); <span class="comment">// 此时调用this就会出现丢失</span></span><br></pre></td></tr></table></figure>
<p><a href="https://www.cnblogs.com/DM428/p/7777539.html" target="_blank" rel="noopener">相关文章》</a></p>
<h4 id="2、如何完美的全局挂载各个第三方插件"><a href="#2、如何完美的全局挂载各个第三方插件" class="headerlink" title="2、如何完美的全局挂载各个第三方插件"></a>2、如何完美的全局挂载各个第三方插件</h4><h2 id="2、antd组件使用"><a href="#2、antd组件使用" class="headerlink" title="2、antd组件使用"></a>2、antd组件使用</h2><ul>
<li><p>modal弹出框</p>
</li>
<li><p>form表单</p>
</li>
</ul>
<p>在brandList.jsx组件中引入</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Table, Modal, Button &#125; <span class="keyword">from</span> <span class="string">'antd'</span></span><br><span class="line"><span class="keyword">import</span> AddForm <span class="keyword">from</span> <span class="string">'@/brandlist/addForm'</span></span><br><span class="line"><span class="keyword">const</span> &#123; confirm &#125; = Modal;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">List</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props)</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      columns: [</span><br><span class="line">        &#123;</span><br><span class="line">          title: <span class="string">'编号'</span>,</span><br><span class="line">          dataIndex: <span class="string">'id'</span>,</span><br><span class="line">          key: <span class="string">'id'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          title: <span class="string">'创建时间'</span>,</span><br><span class="line">          dataIndex: <span class="string">'ctime'</span>,</span><br><span class="line">          key: <span class="string">'ctime'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          title: <span class="string">'品牌'</span>,</span><br><span class="line">          dataIndex: <span class="string">'name'</span>,</span><br><span class="line">          key: <span class="string">'name'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          title: <span class="string">'操作'</span>,</span><br><span class="line">          render: <span class="function">(<span class="params">text, record, index</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// return &lt;a href="javascript:;" onClick=&#123;this.delItem.bind(this, text, record, index)&#125;&gt;删除&lt;/a&gt;</span></span><br><span class="line">            <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;this.delItem(text, record, index)&#125;&#125;&gt;删除<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">      data: [],</span><br><span class="line">      visible: <span class="literal">false</span>,</span><br><span class="line">      fields: &#123;</span><br><span class="line">        username: &#123;</span><br><span class="line">          value: <span class="string">''</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.addItem = <span class="keyword">this</span>.addItem.bind(<span class="keyword">this</span>)</span><br><span class="line">    <span class="keyword">this</span>.handleOk = <span class="keyword">this</span>.handleOk.bind(<span class="keyword">this</span>)</span><br><span class="line">    <span class="keyword">this</span>.handleCancel = <span class="keyword">this</span>.handleCancel.bind(<span class="keyword">this</span>)</span><br><span class="line">    <span class="keyword">this</span>.handleFormChange = <span class="keyword">this</span>.handleFormChange.bind(<span class="keyword">this</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  componentWillMount() &#123;</span><br><span class="line">    <span class="keyword">this</span>.getData()</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 获取表格数据</span></span><br><span class="line">  getData() &#123;</span><br><span class="line">    <span class="keyword">this</span>.$http.get(<span class="string">'/api/getprodlist'</span>).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(res);</span><br><span class="line">      <span class="keyword">this</span>.$message.success(<span class="string">'数据请求成功！'</span>)</span><br><span class="line">      <span class="keyword">let</span> info = res.data.message;</span><br><span class="line">      info.forEach(<span class="function"><span class="params">val</span> =&gt;</span> &#123;</span><br><span class="line">        val.ctime = <span class="keyword">this</span>.$moment(val.ctime).format(<span class="string">'YYYY-MM-DD'</span>)</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">        data: res.data.message</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 删除一行数据</span></span><br><span class="line">  delItem(text, record, index) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(text, record, index);</span><br><span class="line">    confirm(&#123;</span><br><span class="line">      title: <span class="string">'提示?'</span>,</span><br><span class="line">      content: <span class="string">'你确定要删除本条信息吗？'</span>,</span><br><span class="line">      okText: <span class="string">'确定'</span>,</span><br><span class="line">      okType: <span class="string">'danger'</span>,</span><br><span class="line">      cancelText: <span class="string">'取消'</span>,</span><br><span class="line">      onOk:<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.$http.get(<span class="string">'/api/delproduct/'</span>+ record.id).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(res);</span><br><span class="line">          <span class="keyword">if</span>(res.data.status == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">this</span>.getData()</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      onCancel:<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Cancel'</span>);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 添加按钮</span></span><br><span class="line">  addItem() &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">      visible: <span class="literal">true</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 弹出对话框确定事件</span></span><br><span class="line">  handleOk(e) &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123; <span class="attr">visible</span>: <span class="literal">false</span> &#125;)</span><br><span class="line">    e.preventDefault();</span><br><span class="line">    <span class="keyword">this</span>.form.props.form.validateFields(<span class="function">(<span class="params">err, values</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// console.log(err);</span></span><br><span class="line">      <span class="keyword">if</span> (!err) &#123;</span><br><span class="line">        <span class="keyword">this</span>.$http.post(<span class="string">'/api/addproduct'</span>, &#123;<span class="attr">name</span>: values.username&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">// console.log(res);</span></span><br><span class="line">          <span class="keyword">this</span>.getData();</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.form.props.form)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.form.props.form.getFieldValue(<span class="string">'username'</span>) + <span class="string">',,,,,,,,,,,,,,,'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 弹出对话框取消事件</span></span><br><span class="line">  handleCancel() &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123; <span class="attr">visible</span>: <span class="literal">false</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 回调函数监听并同步设置表单的值</span></span><br><span class="line">  handleFormChange = <span class="function"><span class="params">changedFields</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(<span class="function">(<span class="params">&#123; fields &#125;</span>) =&gt;</span> (&#123;</span><br><span class="line">      fields: &#123; ...fields, ...changedFields &#125;,</span><br><span class="line">    &#125;));</span><br><span class="line">  &#125;;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div style=&#123;&#123;<span class="attr">margin</span>: <span class="string">'20px'</span>&#125;&#125;&gt;</span><br><span class="line">        &lt;h2 style=&#123;&#123;<span class="attr">margin</span>:<span class="string">'0 atuo'</span>, <span class="attr">textAlign</span>: <span class="string">'center'</span>&#125;&#125;&gt;品牌列表&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">        &lt;hr/</span>&gt;</span><br><span class="line">        &lt;div style=&#123;&#123; <span class="attr">margin</span>: <span class="string">'20px 0'</span>&#125;&#125;&gt;</span><br><span class="line">          &lt;Button type=<span class="string">"primary"</span> onClick=&#123;<span class="keyword">this</span>.addItem&#125;&gt;添加商品&lt;<span class="regexp">/Button&gt;</span></span><br><span class="line"><span class="regexp">          &lt;Modal</span></span><br><span class="line"><span class="regexp">            title="添加品牌"</span></span><br><span class="line"><span class="regexp">            okText="确认"</span></span><br><span class="line"><span class="regexp">            cancelText="取消"</span></span><br><span class="line"><span class="regexp">            visible=&#123;this.state.visible&#125;</span></span><br><span class="line"><span class="regexp">            onOk=&#123;this.handleOk&#125;</span></span><br><span class="line"><span class="regexp">            onCancel=&#123;this.handleCancel&#125;&gt;</span></span><br><span class="line"><span class="regexp">            &#123;/</span>* 此处引入表单组件，onChange为表单组件中定义的回调函数。</span><br><span class="line">            wrappedComponentRef函数为antd中rac-form规定建议使用获取表单组件的API*<span class="regexp">/&#125;</span></span><br><span class="line"><span class="regexp">            &lt;AddForm ref='form' &#123;...this.state.fields&#125; onChange=&#123;this.handleFormChange&#125; wrappedComponentRef=&#123;(form) =&gt; this.form = form&#125;/</span>&gt;</span><br><span class="line">          &lt;<span class="regexp">/Modal&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">        &lt;Table rowKey=&#123;<span class="string">'id'</span>&#125; columns=&#123;<span class="keyword">this</span>.state.columns&#125; dataSource=&#123;<span class="keyword">this</span>.state.data&#125;&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Table</span>&gt;</span></span></span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default List</span></span><br></pre></td></tr></table></figure>
<p>表单组件AddForm.jsx</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Form, Input &#125; <span class="keyword">from</span> <span class="string">'antd'</span>;</span><br><span class="line"><span class="number">1</span>、建立表单组件</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AddForm</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="comment">// 表单布局配置参数</span></span><br><span class="line">    <span class="keyword">const</span> formItemLayout = &#123;</span><br><span class="line">      labelCol: &#123;</span><br><span class="line">        xs: &#123; <span class="attr">span</span>: <span class="number">24</span> &#125;,</span><br><span class="line">        sm: &#123; <span class="attr">span</span>: <span class="number">3</span> &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      wrapperCol: &#123;</span><br><span class="line">        xs: &#123; <span class="attr">span</span>: <span class="number">24</span> &#125;,</span><br><span class="line">        sm: &#123; <span class="attr">span</span>: <span class="number">20</span> &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// getFieldDecorator表单项工具对象</span></span><br><span class="line">    <span class="keyword">const</span> &#123; getFieldDecorator &#125; = <span class="keyword">this</span>.props.form;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Form &#123;...formItemLayout&#125; className=<span class="string">"login-form"</span>&gt;</span><br><span class="line">        &lt;Form.Item label=<span class="string">"品牌"</span>&gt;</span><br><span class="line">          &#123;</span><br><span class="line">            getFieldDecorator(<span class="string">'username'</span>, &#123; </span><br><span class="line">  # initialValue设置表单默认取值，在绑定下边两个双向绑定函数后，将不会生效，必须到state中进行设置</span><br><span class="line">              initialValue: <span class="string">'123456'</span>,</span><br><span class="line">              rules: [&#123; <span class="attr">type</span>: <span class="string">'string'</span>, <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">'请填写内容!'</span> &#125;]</span><br><span class="line">            &#125;)</span><br><span class="line">            (<span class="xml"><span class="tag">&lt;<span class="name">Input</span> <span class="attr">placeholder</span>=<span class="string">"填写品牌"</span>/&gt;</span>)</span></span><br><span class="line"><span class="xml">          &#125;</span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">Form.Item</span>&gt;</span></span></span><br><span class="line">      &lt;<span class="regexp">/Form&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125; </span></span><br><span class="line"><span class="regexp">2、Form.create进行form组件包装</span></span><br><span class="line"><span class="regexp">const Add_form = Form.create(&#123; name: 'add_form', </span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/ onFieldsChange和mapPropsToFields此处两个函数即是实现表单数据【双向绑定】</span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/ 如果不想使用此功能也可以使用Form.create的API函数操作</span></span><br><span class="line"><span class="regexp">  onFieldsChange(props, changedFields) &#123;</span></span><br><span class="line"><span class="regexp">    props.onChange(changedFields);</span></span><br><span class="line"><span class="regexp">  &#125;,</span></span><br><span class="line"><span class="regexp">  mapPropsToFields(props) &#123;</span></span><br><span class="line"><span class="regexp">    return &#123;</span></span><br><span class="line"><span class="regexp">      username: Form.createFormField(&#123;</span></span><br><span class="line"><span class="regexp">        ...props.username,</span></span><br><span class="line"><span class="regexp">        value: props.username.value,</span></span><br><span class="line"><span class="regexp">      &#125;),</span></span><br><span class="line"><span class="regexp">    &#125;;</span></span><br><span class="line"><span class="regexp">  &#125;,</span></span><br><span class="line"><span class="regexp">  onValuesChange(_, values) &#123;</span></span><br><span class="line"><span class="regexp">    console.log(values);</span></span><br><span class="line"><span class="regexp">  &#125;,</span></span><br><span class="line"><span class="regexp">&#125;)(AddForm);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default Add_form</span></span><br></pre></td></tr></table></figure>
<h1 id="七、Redux"><a href="#七、Redux" class="headerlink" title="七、Redux"></a>七、Redux</h1><h2 id="1、基础理解"><a href="#1、基础理解" class="headerlink" title="1、基础理解"></a>1、基础理解</h2><p>Redux简单理解是一个统一管理项目变量和对象、数组的仓库。主要由三部分组成store(仓库)、reducer(管理者）、action(应用)。</p>
<ul>
<li>store：仓库，即用来生成仓库对象，并抛出仓库的一个js文件。</li>
<li>reducer：即管理仓库中的数据的一个js文件，主要负责存储变量、数据、对象，负责获取和设置变量的值。</li>
<li>action：是当变量被应用后发生的一些值得变化的行为，一般直接发生在组件的事件或者函数中。</li>
<li>流程图：</li>
</ul>
<p><img alt data-src="React\redux_flow.png" class="lozad"><br><img data-src="/2019/10/24/React/redux_flow.png" class="lozad"></p>
<ul>
<li>下边是一个简单的列表增删数据的例子</li>
</ul>
<p><img alt data-src="React\1570418969540.png" class="lozad"><br><img data-src="/2019/10/24/React/1570418969540.png" class="lozad"></p>
<p>例子：</p>
<p>store.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这里引入redux，和reducer并且创建一个store对象</span></span><br><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">'redux'</span></span><br><span class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">"./reducer"</span>;</span><br><span class="line"><span class="comment">// new createStore第一个参数是reducer，第二个参数是一个window兼容性处理，并且添加到window对象中</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> createStore(reducer,<span class="built_in">window</span>.__REDUX_DEVTOOLS_EXTENSION__ &amp;&amp; <span class="built_in">window</span>.__REDUX_DEVTOOLS_EXTENSION__());</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>
<p>reducer.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这里既是存储所有数据的地方</span></span><br><span class="line"><span class="keyword">const</span> defaultState = &#123;</span><br><span class="line">  inputValue: <span class="string">''</span>,</span><br><span class="line">  list: [</span><br><span class="line">    <span class="string">'玩儿翁二无二特'</span>,</span><br><span class="line">    <span class="string">'温热他仍'</span>,</span><br><span class="line">    <span class="string">'王二个人和哥哥'</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 这里是处理数据读写的一个函数，它默认有两个参数：state【数据】，action【component传过来的数据】</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (state = defaultState, action) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 默认state里的值，只能读取，不能赋值</span></span><br><span class="line">  <span class="comment">// state.inputValue = action.inputValue 这是错误的写法，无效</span></span><br><span class="line">  <span class="keyword">let</span> newState = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(state))</span><br><span class="line">  <span class="keyword">if</span>(action.type === <span class="string">'setValue'</span>) &#123;</span><br><span class="line">    newState.inputValue = action.inputValue</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(action.type === <span class="string">'addValue'</span>) &#123;</span><br><span class="line">    newState.list.push(newState.inputValue)</span><br><span class="line">    newState.inputValue = <span class="string">''</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(action.type === <span class="string">'delValue'</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(action.index)</span><br><span class="line">    newState.list.splice(action.index, <span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 这里也可以进行return newState</span></span><br><span class="line">  <span class="keyword">return</span> state</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>action和component</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这是应用层，引入store，并且在要改变数据的函数中使用action</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	此处包含的store的API</span></span><br><span class="line"><span class="comment">	store.getState() 获取数据</span></span><br><span class="line"><span class="comment">	store.subscribe() 订阅事件</span></span><br><span class="line"><span class="comment">	store.dispatch() 推送数据</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; Input, Button, List &#125; <span class="keyword">from</span> <span class="string">"antd"</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store'</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">demo1</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props)</span><br><span class="line">    <span class="built_in">console</span>.log(store.getState());</span><br><span class="line">    <span class="comment">// 可以通过store.getState()方法获取store中获取</span></span><br><span class="line">    <span class="keyword">this</span>.state = store.getState()</span><br><span class="line">    <span class="keyword">this</span>.storeChange = <span class="keyword">this</span>.storeChange.bind(<span class="keyword">this</span>)</span><br><span class="line">    <span class="comment">// subscribe即订阅，当发生输入框onchange事件等数据发生实时变化时，需对该事件进行订阅，否则input输入框将无法数据内容。</span></span><br><span class="line">    store.subscribe(<span class="keyword">this</span>.storeChange)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;div style=&#123;&#123;<span class="attr">width</span>: <span class="string">'400px'</span>, <span class="attr">margin</span>: <span class="string">'20px auto'</span>&#125;&#125;&gt;</span><br><span class="line">          &lt;Input </span><br><span class="line">          placeholder=<span class="string">"请输入值"</span></span><br><span class="line">          style=&#123;&#123;<span class="attr">width</span>: <span class="string">'250px'</span>&#125;&#125; </span><br><span class="line">          onChange=&#123;<span class="keyword">this</span>.changeInputValue.bind(<span class="keyword">this</span>)&#125;</span><br><span class="line">          <span class="comment">// 所需要的store中的值可以在this.state中获得  </span></span><br><span class="line">          value=&#123;<span class="keyword">this</span>.state.inputValue&#125;&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Input</span>&gt;</span></span></span><br><span class="line">          &lt;Button type=<span class="string">"primary"</span> onClick=&#123;<span class="keyword">this</span>.addItem&#125;&gt;添加&lt;<span class="regexp">/Button&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">        &lt;div style=&#123;&#123;<span class="attr">width</span>: <span class="string">'400px'</span>, <span class="attr">margin</span>: <span class="string">'20px auto'</span>&#125;&#125;&gt;</span><br><span class="line">          &lt;List bordered dataSource=&#123;<span class="keyword">this</span>.state.list&#125; </span><br><span class="line">          renderItem=&#123;(item, index)=&gt;(<span class="xml"><span class="tag">&lt;<span class="name">List.Item</span> <span class="attr">onClick</span>=<span class="string">&#123;this.delItem.bind(this,</span> <span class="attr">index</span>)&#125;&gt;</span>&#123;item&#125;<span class="tag">&lt;/<span class="name">List.Item</span>&gt;</span></span>)&#125; /&gt;</span><br><span class="line">        &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">  changeInputValue(e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e.target.value)</span><br><span class="line">    <span class="keyword">let</span> action = &#123;</span><br><span class="line">      type: <span class="string">'setValue'</span>, <span class="comment">// type为一个识别标识符类型的键值，用来区分不同的action</span></span><br><span class="line">      inputValue: e.target.value</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 这里通过dispatch将一个action行为派遣到store中，最终通过reducer管理者进行处理</span></span><br><span class="line">    store.dispatch(action)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 通过该方法实现数据双向绑定</span></span><br><span class="line">  storeChange() &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(store.getState())</span><br><span class="line">  &#125;</span><br><span class="line">  addItem = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> action = &#123;</span><br><span class="line">      type: <span class="string">'addValue'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    store.dispatch(action)</span><br><span class="line">  &#125;</span><br><span class="line">  delItem(index) &#123;</span><br><span class="line">    <span class="keyword">let</span> action = &#123;</span><br><span class="line">      type: <span class="string">'delValue'</span>,</span><br><span class="line">      index: index</span><br><span class="line">    &#125;</span><br><span class="line">    store.dispatch(action)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> demo1;</span><br></pre></td></tr></table></figure>
<h1 id="create-react-app-3-0"><a href="#create-react-app-3-0" class="headerlink" title="create-react-app(^3.0)"></a>create-react-app(^3.0)</h1><p>前言：1、如果用yarn，建议最好一直使用yarn安装依赖，不然可能会出现依赖包版本问题。</p>
<p>​            2、此文档create-react-app是采用2020年最新版本，故以下配置只适用最新版本脚手架创建的项目。</p>
<h2 id="1、配置less-loader"><a href="#1、配置less-loader" class="headerlink" title="1、配置less-loader"></a>1、配置less-loader</h2><ul>
<li>老版本有webpack.config.dev.js和webpack.config.prod.js两个文件，直接在配置css-loader下复制一次，改为less-loader配置即可</li>
<li>最新版本，只有webpack.config.js一个文件，配置步骤如下</li>
</ul>
<p><strong>没有</strong>webpack.config.dev.js和webpack.config.prod.js,查看网上各种解决办法后，<strong>发现是因为create-react-app官方脚手架升级了。</strong></p>
<p>1、这里我们就在webpack.config.js配置less。</p>
<p>方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//找到此位置</span><br><span class="line">// style files regexes</span><br><span class="line">const cssRegex = /\.css$/;</span><br><span class="line">const cssModuleRegex = /\.module\.css$/;</span><br><span class="line">const sassRegex = /\.(scss|sass)$/;</span><br><span class="line">const sassModuleRegex = /\.module\.(scss|sass)$/;</span><br><span class="line"> </span><br><span class="line">//在此添加如下两个常量</span><br><span class="line">const lessRegex =/\.less$/;</span><br><span class="line">const lessModuleRegex=/\.module\.less$/;</span><br><span class="line"> </span><br><span class="line">// This is the production and development configuration.</span><br><span class="line">// It is focused on developer experience, fast rebuilds, and a minimal bundle.</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">//找到此位置</span><br><span class="line">&#123;</span><br><span class="line">    test: cssRegex,</span><br><span class="line">        exclude: cssModuleRegex,</span><br><span class="line">            use: getStyleLoaders(&#123;</span><br><span class="line">                importLoaders: 1,</span><br><span class="line">                sourceMap: isEnvProduction &amp;&amp; shouldUseSourceMap,</span><br><span class="line">            &#125;),</span><br><span class="line">                // Don&apos;t consider CSS imports dead code even if the</span><br><span class="line">                // containing package claims to have no side effects.</span><br><span class="line">                // Remove this when webpack adds a warning or an error for this.</span><br><span class="line">                // See https://github.com/webpack/webpack/issues/6571</span><br><span class="line">                sideEffects: true,</span><br><span class="line">&#125;,</span><br><span class="line">    // Adds support for CSS Modules (https://github.com/css-modules/css-modules)</span><br><span class="line">    // using the extension .module.css</span><br><span class="line">    &#123;</span><br><span class="line">        test: cssModuleRegex,</span><br><span class="line">            use: getStyleLoaders(&#123;</span><br><span class="line">                importLoaders: 1,</span><br><span class="line">                sourceMap: isEnvProduction &amp;&amp; shouldUseSourceMap,</span><br><span class="line">                modules: true,</span><br><span class="line">                getLocalIdent: getCSSModuleLocalIdent,</span><br><span class="line">            &#125;),</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">        //在这之后仿照上面添加如下代码</span><br><span class="line">        &#123;</span><br><span class="line">            test: lessRegex,</span><br><span class="line">                exclude: lessModuleRegex,</span><br><span class="line">                    use: getStyleLoaders(&#123;</span><br><span class="line">                        importLoaders: 2,</span><br><span class="line">                        sourceMap: isEnvProduction &amp;&amp; shouldUseSourceMap,</span><br><span class="line">                    &#125;),</span><br><span class="line">                        sideEffects: true,</span><br><span class="line">        &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test: lessModuleRegex,</span><br><span class="line">                    use: getStyleLoaders(&#123;</span><br><span class="line">                        importLoaders: 2,</span><br><span class="line">                        modules: true,</span><br><span class="line">                        getLocalIdent: getCSSModuleLocalIdent,</span><br><span class="line">                        sourceMap: isEnvProduction &amp;&amp; shouldUseSourceMap,</span><br><span class="line">                    &#125;),</span><br><span class="line">            &#125;,</span><br></pre></td></tr></table></figure>
<p>2、以上步骤做完之后运行，我们当然还需要安装less-loader包</p>
<p>下载less-loader</p>
<p><code>npm i less-loader -S</code>    或   <code>yarn add less-loader</code></p>
<p>3、但是当我们下载完成之后，重新运行项目，会报错：<code>ERROR:Cannot find module ‘less’</code></p>
<p>这是为什么呢？？？我们已经安装了less-loader，看看官方文档，建议我们安装的那几个loader：<strong>less-loader</strong>、<strong>css-loader</strong>、<strong>style-loader</strong>都装了还是这个错误！！！</p>
<p>解决：就是字面意思，少了less模块，安装吧 =》 <code>npm i less -S</code>  或  <code>yarn add less</code>，这样再运行就可以了。</p>
<h2 id="2、antD-4-0-按需加载组件"><a href="#2、antD-4-0-按需加载组件" class="headerlink" title="2、antD(^4.0)按需加载组件"></a>2、antD(^4.0)按需加载组件</h2><p>1、安装插件包：<code>yarn add babel-plugin-import</code>，不同于antD官方，我们不用<code>config-overrides.js</code>文件</p>
<p>2、配置package.json文件，找到babel配置，添加如下代码</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">"babel": &#123;</span><br><span class="line">    "presets": [</span><br><span class="line">      <span class="string">"react-app"</span></span><br><span class="line">    ],</span><br><span class="line">    "plugins": [</span><br><span class="line">      [</span><br><span class="line">        <span class="string">"import"</span>,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"libraryName"</span>: <span class="string">"antd"</span>,</span><br><span class="line">          <span class="attr">"libraryDirectory"</span>: <span class="string">"es"</span>,</span><br><span class="line">          <span class="attr">"style"</span>: <span class="literal">true</span> <span class="comment">// "css" or true, css引入css文件，true默认引入less文件</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h2 id="3、全局主题自定义"><a href="#3、全局主题自定义" class="headerlink" title="3、全局主题自定义"></a>3、全局主题自定义</h2><p>参考：antD官方，<a href="https://ant.design/docs/react/customize-theme-cn" target="_blank" rel="noopener">定制主题</a>在webpack.config.js中，使用<code>less-loader</code>进行配置。<strong>这里我们不用antD上的，有坑！！！，后边会补坑</strong></p>
<p>前提：根据本篇配置好less-loader和按需加载的步骤，不然可能会报错。</p>
<p>在webpack.config.js大概第110行，搜<code>preProcessor</code>，对整个判断进行修改，代码如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (preProcessor) &#123;</span><br><span class="line">    <span class="keyword">let</span> loader = &#123;</span><br><span class="line">        loader: <span class="built_in">require</span>.resolve(preProcessor),</span><br><span class="line">        options: &#123;</span><br><span class="line">            sourceMap: isEnvProduction &amp;&amp; shouldUseSourceMap,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (preProcessor === <span class="string">"less-loader"</span>) &#123;    <span class="comment">//新增</span></span><br><span class="line">        loader.options.modifyVars = &#123;</span><br><span class="line">            <span class="string">'primary-color'</span>: <span class="string">'#1DA57A'</span>,</span><br><span class="line">            <span class="string">'link-color'</span>: <span class="string">'#1DA57A'</span>,</span><br><span class="line">            <span class="string">'border-radius-base'</span>: <span class="string">'2px'</span></span><br><span class="line">        &#125;</span><br><span class="line">        loader.options.javascriptEnabled = <span class="literal">true</span></span><br><span class="line">    &#125;    <span class="comment">//EndOf新增</span></span><br><span class="line">    loaders.push(loader);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4、填坑！"><a href="#4、填坑！" class="headerlink" title="4、填坑！"></a>4、填坑！</h2><p>对于以上三步必须这么做，网上还搜到不同步骤有不同的配置，按需加载和less-loader的配置也有不同。但是如果想最后定制主题，那就可能会遇到一些问题。</p>
<p>配置自定义主题本文总结两个方法：</p>
<p>方法一：按本章步骤1、2、3进行即可，最后主题就会更改，当然不打算自定义主题，那么随意配置。</p>
<p>方法二：可以参考这篇文章，<a href="https://blog.csdn.net/focusdroid/article/details/85381042" target="_blank" rel="noopener">antD自定义主题</a></p>
<p>以下是方法二的步骤：</p>
<p>1、在webpack.config.js搜plugins，找到393行,在plugins下添加这行代码,注释部分</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">"import"</span>, &#123;<span class="string">"libraryName"</span>: <span class="string">"antd"</span>, <span class="string">"libraryDirectory"</span>:<span class="string">"es"</span>, <span class="string">"style"</span>: <span class="literal">true</span>&#125;],</span><br></pre></td></tr></table></figure>
<p><img alt data-src="React\image-20200314170040403.png" class="lozad"><br></p>
<p>2、搜exclude，在这里添加一个less文件的正则进行匹配输出</p>
<p><img alt data-src="React\image-20200314170258758.png" class="lozad"><br><img data-src="/2019/10/24/React/image-20200314170258758.png" class="lozad"></p>
<p>3、搜索rules，在其中添加这行代码，用来解析less文件，modifyVars中即为自定义更改antd样式，这里也可以引入自定义的.less样式文件。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.less$/</span>,</span><br><span class="line">        use: [&#123;</span><br><span class="line">            loader: <span class="string">"style-loader"</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            loader: <span class="string">"css-loader"</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            loader: <span class="string">"less-loader"</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">                sourceMap: <span class="literal">true</span>,</span><br><span class="line">                modifyVars: &#123;</span><br><span class="line">                    <span class="string">'primary-color'</span>: <span class="string">'#1DA57A'</span>,</span><br><span class="line">                    <span class="string">'link-color'</span>: <span class="string">'#1DA57A'</span>,</span><br><span class="line">                    <span class="string">'border-radius-base'</span>: <span class="string">'2px'</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">                javascriptEnabled: <span class="literal">true</span>,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p><img alt data-src="React\image-20200314170800430.png" class="lozad"><br><img data-src="/2019/10/24/React/image-20200314170800430.png" class="lozad"></p>
<h2 id="5、配置‘-’代替相对路径"><a href="#5、配置‘-’代替相对路径" class="headerlink" title="5、配置‘@’代替相对路径../../"></a>5、配置‘@’代替相对路径../../</h2><p>再webpack.config.js中搜索<code>resolve</code>，在其中的<code>alias{}</code>中添加配置</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'@'</span>: paths.appSrc</span><br></pre></td></tr></table></figure>
<p><img alt data-src="React\image-20200318114255910.png" class="lozad"><br><img data-src="/2019/10/24/React/image-20200318114255910.png" class="lozad"></p>
<h2 id="6、css模块化处理"><a href="#6、css模块化处理" class="headerlink" title="6、css模块化处理"></a>6、css模块化处理</h2><p>在create-react-app v2.0之前的版本，网上又很多教程，需要在webpack.config.dev.js和webpack.config.prod.js中配置。配置连接参考：<a href="https://www.cnblogs.com/juexin/p/9238369.html。也可以参考本篇第一章，11条设置样式部分。" target="_blank" rel="noopener">https://www.cnblogs.com/juexin/p/9238369.html。也可以参考本篇第一章，11条设置样式部分。</a></p>
<p>我们这里讲的是create-react-app v2.0之后最新版本</p>
<p><strong>最新版本中已经默认配置了css模块化</strong></p>
<p>我们要做的就是建立样式时，需要模块化的样式文件使用<code>xxx.moudel.css</code>或者<code>xxx.moudel.scss</code>命名</p>
<p>然后引入：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">css引入方式 <span class="keyword">import</span> xxx <span class="keyword">from</span> <span class="string">'xxx.module.css'</span></span><br><span class="line">scss引入方式 <span class="keyword">import</span> xxx <span class="keyword">from</span> <span class="string">'xxx.module.scss'</span></span><br><span class="line"></span><br><span class="line">用法：&lt;div className=&#123;xxx.styleName&#125;&gt;</span><br></pre></td></tr></table></figure>
<p>参考文章 》 <a href="https://blog.csdn.net/weixin_42262889/article/details/101151958" target="_blank" rel="noopener">https://blog.csdn.net/weixin_42262889/article/details/101151958</a></p>
<p>7、关闭eslint</p>
<p>在webpack.config.js中找到rules下的eslint-loader，注释掉配置即可</p>
<p><img alt data-src="React\image-20200318151247051.png" class="lozad"><br><img data-src="/2019/10/24/React/image-20200318151247051.png" class="lozad"></p>
<h2 id="React项目相关框架及文章"><a href="#React项目相关框架及文章" class="headerlink" title="React项目相关框架及文章"></a>React项目相关框架及文章</h2><ul>
<li><p><a href="https://dvajs.com/guide/" target="_blank" rel="noopener">dva官方文档</a></p>
</li>
<li><p><a href="https://juejin.im/entry/5852184b128fe1006b5454c6" target="_blank" rel="noopener">dva框架简介</a></p>
</li>
<li><p><a href="https://github.com/dvajs" target="_blank" rel="noopener">dav的GitHub</a></p>
</li>
<li><p><a href="https://github.com/electron/electron" target="_blank" rel="noopener">electron</a></p>
</li>
</ul>
<h2 id="安装-React-Developer-Tools-调试工具"><a href="#安装-React-Developer-Tools-调试工具" class="headerlink" title="安装 React Developer Tools 调试工具"></a>安装 React Developer Tools 调试工具</h2><p><a href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi?hl=zh-CN" target="_blank" rel="noopener">React Developer Tools - Chrome 扩展下载安装地址</a></p>
<h2 id="相关文章"><a href="#相关文章" class="headerlink" title="相关文章"></a>相关文章</h2><ul>
<li><a href="https://mp.weixin.qq.com/s/gV-w_rRfdBVAqsOpBGZaVw" target="_blank" rel="noopener">2018 年，React 将独占前端框架鳌头？</a></li>
<li><a href="https://mp.weixin.qq.com/s/0wXWqKIigaKzMSfy4vJMVw" target="_blank" rel="noopener">前端框架三巨头年度走势对比：Vue 增长率最高</a></li>
</ul>
<ul>
<li><a href="http://www.cnblogs.com/tim100/p/6050514.html" target="_blank" rel="noopener">React数据流和组件间的沟通总结</a></li>
<li><a href="https://segmentfault.com/q/1010000005876655/a-1020000005876751" target="_blank" rel="noopener">单向数据流和双向绑定各有什么优缺点？</a></li>
<li><a href="https://www.zhihu.com/question/29504639?sort=created" target="_blank" rel="noopener">怎么更好的理解虚拟DOM?</a></li>
<li><a href="http://www.css88.com/react/index.html" target="_blank" rel="noopener">React中文文档 - 版本较低</a></li>
<li><a href="http://blog.csdn.net/yczz/article/details/49886061" target="_blank" rel="noopener">React 源码剖析系列 － 不可思议的 react diff</a></li>
<li><a href="http://www.infoq.com/cn/articles/react-dom-diff?from=timeline&amp;isappinstalled=0" target="_blank" rel="noopener">深入浅出React（四）：虚拟DOM Diff算法解析</a></li>
<li><a href="http://www.cocoachina.com/webapp/20150721/12692.html" target="_blank" rel="noopener">一看就懂的ReactJs入门教程（精华版）</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2016/06/css_modules.html" target="_blank" rel="noopener">CSS Modules 用法教程</a></li>
<li><a href="http://blog.csdn.net/itzhongzi/article/details/66045880" target="_blank" rel="noopener">将MarkDown转换为HTML页面</a></li>
<li><a href="https://jingyan.baidu.com/article/0320e2c1c9cf0e1b87507b26.html" target="_blank" rel="noopener">win7命令行 端口占用 查询进程号 杀进程</a></li>
</ul>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">雪海の无涯</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://wuguolong.com/2019/10/24/React/">http://wuguolong.com/2019/10/24/React/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://wuguolong.com">云海雪原</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/React/">React    </a></div><div class="post_share"><div class="social-share" data-image="/img/react.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button"><i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lozad post-qr-code__img" src="/img/wechat.jpg"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lozad post-qr-code__img" src="/img/alipay.jpg"><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull-left"><a href="/2019/10/24/Vue基础/"><img class="prev_cover lozad" data-src="/img/vue.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>Vue笔记</span></div></a></div><div class="next-post pull-right"><a href="/2019/10/24/NodeJS笔记/"><img class="next_cover lozad" data-src="/img/node.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>Node.js</span></div></a></div></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = false == true ? true : false;
var verify = false == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'QOWvG4y52wLGETHWOBorduMj-gzGzoHsz',
  appKey:'92vutIllr4PBQhRIlGCkGJPU',
  placeholder:'Please leave your footprints',
  avatar:'monsterid',
  guest_info:guest_info,
  pageSize:'10',
  lang:'en',
  recordIP: true
});</script></div></div></div><footer><div id="footer"><div class="copyright">&copy;2018 - 2020 By 雪海の无涯</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换">繁</a><i class="nightshift fa fa-moon-o" id="nightshift" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script src="/js/nightshift.js"></script><script color="0,0,255" opacity="0.7" zindex="-1" count="99" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/js/canvas-nest.js"></script><script src="/js/baidupush.js"> </script><script src="/js/activate-power-mode.js"></script><script>POWERMODE.colorful = true; // make power mode colorful
POWERMODE.shake = true; // turn off shake
document.body.addEventListener('input', POWERMODE);
</script><script src="/js/tw_cn.js"></script><script>translateInitilization()

</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@1.2.2/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><script>const observer = lozad(); // lazy loads elements with default selector as '.lozad'
observer.observe();
</script></body></html>