<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>TinyMCE富文本 | 云海雪原</title><meta name="description" content="TinyMCE富文本"><meta name="keywords" content="富文本编辑器"><meta name="author" content="雪海の无涯"><meta name="copyright" content="雪海の无涯"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="canonical" href="http://wuguolong.com/2020/02/26/TinyMCE富文本/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="TinyMCE富文本"><meta name="twitter:description" content="TinyMCE富文本"><meta name="twitter:image" content="https://s2.ax1x.com/2019/10/24/KUV0KS.jpg"><meta property="og:type" content="article"><meta property="og:title" content="TinyMCE富文本"><meta property="og:url" content="http://wuguolong.com/2020/02/26/TinyMCE富文本/"><meta property="og:site_name" content="云海雪原"><meta property="og:description" content="TinyMCE富文本"><meta property="og:image" content="https://s2.ax1x.com/2019/10/24/KUV0KS.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="prev" title="WebGis" href="http://wuguolong.com/2020/06/06/SuperMap-leaflet-API/"><link rel="next" title href="http://wuguolong.com/2019/12/15/video/banner/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://www.wuguolong.com/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight_copy: 'true',
  highlight_lang: 'true',
  highlight_shrink: 'false',
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: '添加书签',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  copyright: {"languages":{"author":"作者: 雪海の无涯","link":"链接: http://wuguolong.com/2020/02/26/TinyMCE富文本/","source":"来源: 云海雪原","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  copy_copyright_js: true
  
}</script></head><body><canvas class="fireworks"></canvas><div id="header"> <div id="page-header"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">云海雪原</a></span><i class="fa fa-bars fa-fw toggle-menu pull-right close" aria-hidden="true"></i><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div><script>document.body.addEventListener('touchstart', function(){ });</script></div></span><span class="pull-right" id="search_button"></span></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="lozad avatar_img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'"></div><div class="mobile_post_data"><div class="mobile_data_item is_center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">29</div></a></div></div><div class="mobile_data_item is_center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">23</div></a></div></div><div class="mobile_data_item is_center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">18</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div><script>document.body.addEventListener('touchstart', function(){ });</script></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#TinyMCE富文本编辑器"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">TinyMCE富文本编辑器</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#第一种写法"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">第一种写法</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#上传本地图片功能"><span class="toc_mobile_items-number">1.1.1.</span> <span class="toc_mobile_items-text">上传本地图片功能</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#第二种写法"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">第二种写法</span></a></li></ol></li></ol></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#TinyMCE富文本编辑器"><span class="toc-number">1.</span> <span class="toc-text">TinyMCE富文本编辑器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#第一种写法"><span class="toc-number">1.1.</span> <span class="toc-text">第一种写法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#上传本地图片功能"><span class="toc-number">1.1.1.</span> <span class="toc-text">上传本地图片功能</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#第二种写法"><span class="toc-number">1.2.</span> <span class="toc-text">第二种写法</span></a></li></ol></li></ol></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://s2.ax1x.com/2019/10/24/KUV0KS.jpg)"><div id="post-info"><div id="post-title"><div class="posttitle">TinyMCE富文本</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2020-02-26<span class="post-meta__separator">|</span><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-06-06</time><span class="post-meta__separator mobile_hidden">|</span><span class="mobile_hidden"><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/富文本/">富文本</a></span><div class="post-meta-wordcount"><span>阅读量: </span><span id="busuanzi_value_page_pv"></span></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h2 id="TinyMCE富文本编辑器"><a href="#TinyMCE富文本编辑器" class="headerlink" title="TinyMCE富文本编辑器"></a>TinyMCE富文本编辑器</h2><p>TinyMCE对于要求比较复杂的富文本适用，但是简单的还是不用为好，当然熟悉之后随便用。</p>
<h3 id="第一种写法"><a href="#第一种写法" class="headerlink" title="第一种写法"></a>第一种写法</h3><p>直接上vue的配置代码</p>
<p>1、首先执行<code>npm install tinymec -S</code>安装依赖文件；</p>
<p>2、从node_modules文件夹找到tinymec文件下的tinymec.min.js、skins文件夹。放到static文件夹下，单独建立一个tinymec文件夹里。然后再index.html文件中引入tinymec.min.js文件；</p>
<p>3、可以开始简历组件了：</p>
<p>单独建立一个组件文件夹，文件夹里是： </p>
<p>index.vue【组件文件】、</p>
<p>toolbar.js【组件的菜单功能项配置】、</p>
<p>plugins.js【组件的插件，其实也是一些功能项配置】</p>
<p>index.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;tinymce-container editor-container&quot;&gt;</span><br><span class="line">    &lt;textarea :id=&quot;tinymceId&quot; class=&quot;tinymce-textarea&quot; /&gt;</span><br><span class="line">    &lt;div class=&quot;editor-custom-btn-container&quot;&gt;</span><br><span class="line">      &lt;editorImage color=&quot;#1890ff&quot; class=&quot;editor-upload-btn&quot; @successCBK=&quot;imageSuccessCBK&quot; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import editorImage from &apos;./components/EditorImage&apos;</span><br><span class="line">import plugins from &apos;./plugins&apos;</span><br><span class="line">import toolbar from &apos;./toolbar&apos;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &apos;Tinymce&apos;,</span><br><span class="line">  components: &#123; editorImage &#125;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    id: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: function() &#123;</span><br><span class="line">        return &apos;vue-tinymce-&apos; + +new Date() + ((Math.random() * 1000).toFixed(0) + &apos;&apos;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    value: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &apos;&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    toolbar: &#123;</span><br><span class="line">      type: Array,</span><br><span class="line">      required: false,</span><br><span class="line">      default() &#123;</span><br><span class="line">        return []</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    menubar: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &apos;file edit insert view&apos;</span><br><span class="line">      // default: &apos;file edit insert view format&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    height: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      required: false,</span><br><span class="line">      default: 360</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      hasChange: false,</span><br><span class="line">      hasInit: false,</span><br><span class="line">      tinymceId: this.id,</span><br><span class="line">      fullscreen: false,</span><br><span class="line">      languageTypeList: &#123;</span><br><span class="line">        &apos;zh&apos;: &apos;zh_CN&apos;</span><br><span class="line">      &#125;,</span><br><span class="line">      temp: 0,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    value(val) &#123;</span><br><span class="line">      if (!this.hasChange &amp;&amp; this.hasInit) &#123;</span><br><span class="line">        this.$nextTick(() =&gt;</span><br><span class="line">          window.tinymce.get(this.tinymceId).setContent(val || &apos;&apos;))</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    this.initTinymce()</span><br><span class="line">    // 获取vue项目布局的主要内容部分的最外层盒子，监听滚动事件</span><br><span class="line">    this.box = document.querySelector(&apos;.content-container&apos;)</span><br><span class="line">    this.box.addEventListener(&apos;scroll&apos;, this.getscroll)</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    initTinymce() &#123;</span><br><span class="line">      const _this = this</span><br><span class="line">      window.tinymce.init(&#123;</span><br><span class="line">        language: &apos;zh_CN&apos;,</span><br><span class="line">        selector: `#$&#123;this.tinymceId&#125;`,</span><br><span class="line">        height: this.height,</span><br><span class="line">        body_class: &apos;panel-body &apos;,</span><br><span class="line">        object_resizing: false,</span><br><span class="line">        toolbar: this.toolbar.length &gt; 0 ? this.toolbar : toolbar,</span><br><span class="line">        menubar: this.menubar,</span><br><span class="line">        plugins: plugins,</span><br><span class="line">        end_container_on_empty_block: true,</span><br><span class="line">        powerpaste_word_import: &apos;clean&apos;,</span><br><span class="line">        code_dialog_height: 450,</span><br><span class="line">        code_dialog_width: 1000,</span><br><span class="line">        advlist_bullet_styles: &apos;square&apos;,</span><br><span class="line">        advlist_number_styles: &apos;default&apos;,</span><br><span class="line">        imagetools_cors_hosts: [&apos;www.tinymce.com&apos;, &apos;codepen.io&apos;],</span><br><span class="line">        default_link_target: &apos;_blank&apos;,</span><br><span class="line">        link_title: false,</span><br><span class="line">        nonbreaking_force_tab: true, // inserting nonbreaking space &amp;nbsp; need Nonbreaking Space Plugin</span><br><span class="line">        init_instance_callback: editor =&gt; &#123;</span><br><span class="line">          if (_this.value) &#123;</span><br><span class="line">            editor.setContent(_this.value)</span><br><span class="line">          &#125;</span><br><span class="line">          _this.hasInit = true</span><br><span class="line">          editor.on(&apos;NodeChange Change KeyUp SetContent&apos;, () =&gt; &#123;</span><br><span class="line">            this.hasChange = true</span><br><span class="line">            this.$emit(&apos;input&apos;, editor.getContent())</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        setup(editor) &#123;</span><br><span class="line">          editor.on(&apos;FullscreenStateChanged&apos;, (e) =&gt; &#123;</span><br><span class="line">            _this.fullscreen = e.state</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    // 下拉菜单弹出层无法跟随文本域移动, 只有操作dom了</span><br><span class="line">    getscroll(e) &#123;</span><br><span class="line">      // 因为文本编辑器顶端距离浏览器顶端是240像素</span><br><span class="line">      let origin = 240, currentPop = null;</span><br><span class="line">      let parentboxTop = e.target.scrollTop;</span><br><span class="line">      let popupbox = document.querySelectorAll(&apos;.mce-menu&apos;)</span><br><span class="line">      for (let i = 0; i &lt; popupbox.length; i++) &#123;</span><br><span class="line">        let state = popupbox[i].style.display;</span><br><span class="line">        if(state != &apos;none&apos;) &#123;</span><br><span class="line">          currentPop = popupbox[i]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      if(currentPop != null) &#123;</span><br><span class="line">        let top = origin - parentboxTop;</span><br><span class="line">        currentPop.style.top = top + &apos;px&apos;;</span><br><span class="line">      &#125;</span><br><span class="line">      this.temp ++</span><br><span class="line">    &#125;,</span><br><span class="line">    destroyTinymce() &#123;</span><br><span class="line">      const tinymce = window.tinymce.get(this.tinymceId)</span><br><span class="line">      if (this.fullscreen) &#123;</span><br><span class="line">        tinymce.execCommand(&apos;mceFullScreen&apos;)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      if (tinymce) &#123;</span><br><span class="line">        tinymce.destroy()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    setContent(value) &#123;</span><br><span class="line">      window.tinymce.get(this.tinymceId).setContent(value)</span><br><span class="line">    &#125;,</span><br><span class="line">    getContent() &#123;</span><br><span class="line">      window.tinymce.get(this.tinymceId).getContent()</span><br><span class="line">    &#125;,</span><br><span class="line">    imageSuccessCBK(arr) &#123;</span><br><span class="line">      const _this = this</span><br><span class="line">      arr.forEach(v =&gt; &#123;</span><br><span class="line">        window.tinymce.get(_this.tinymceId).insertContent(`&lt;img class=&quot;wscnph&quot; src=&quot;$&#123;v.url&#125;&quot; &gt;`)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  activated() &#123;</span><br><span class="line">    this.initTinymce()</span><br><span class="line">  &#125;,</span><br><span class="line">  deactivated() &#123;</span><br><span class="line">    this.destroyTinymce()</span><br><span class="line">    this.box.removeEventListener(&apos;scroll&apos;, this.getscroll)</span><br><span class="line">  &#125;,</span><br><span class="line">  destroyed() &#123;</span><br><span class="line">    this.destroyTinymce()</span><br><span class="line">    this.box.removeEventListener(&apos;scroll&apos;, this.getscroll)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.tinymce-container &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  line-height: normal;</span><br><span class="line">&#125;</span><br><span class="line">.tinymce-container&gt;&gt;&gt;.mce-fullscreen &#123;</span><br><span class="line">  z-index: 10000;</span><br><span class="line">&#125;</span><br><span class="line">.tinymce-textarea &#123;</span><br><span class="line">  visibility: hidden;</span><br><span class="line">  z-index: -1;</span><br><span class="line">&#125;</span><br><span class="line">.editor-custom-btn-container &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  right: 4px;</span><br><span class="line">  top: 4px;</span><br><span class="line">  /*z-index: 2005;*/</span><br><span class="line">&#125;</span><br><span class="line">.fullscreen .editor-custom-btn-container &#123;</span><br><span class="line">  z-index: 10000;</span><br><span class="line">  position: fixed;</span><br><span class="line">&#125;</span><br><span class="line">.editor-upload-btn &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>toolbar.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这个地址展示了一些可选的功能项</span></span><br><span class="line"><span class="comment">// Detail list see https://www.tinymce.com/docs/advanced/editor-control-identifiers/#toolbarcontrols</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const toolbar = [ 'hr bullist numlist  insertdatetime  table emoticons forecolor backcolor fullscreen']</span></span><br><span class="line"><span class="keyword">const</span> toolbar = [ <span class="string">' bold forecolor backcolor aligncenter alignjustify alignleft alignright insertdatetime removeformat'</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> toolbar</span><br></pre></td></tr></table></figure>
<p>plugins.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 插件查询请看这俩链接</span></span><br><span class="line"><span class="comment">// Detail plugins list see https://www.tinymce.com/docs/plugins/</span></span><br><span class="line"><span class="comment">// Custom builds see https://www.tinymce.com/download/custom-builds/</span></span><br><span class="line"><span class="comment">// 对应index.vue的init中的plugins，一些功能插件</span></span><br><span class="line"><span class="keyword">const</span> plugins = [<span class="string">'mentions advlist anchor autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime  lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount'</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> plugins</span><br></pre></td></tr></table></figure>
<h4 id="上传本地图片功能"><a href="#上传本地图片功能" class="headerlink" title="上传本地图片功能"></a>上传本地图片功能</h4><p>项目中如果需要上传图片功能，可以看官方文档，下边是另一种办法</p>
<p>在开始的Tinymce的组件文件夹中，新建一个文件夹，其中放置一个element上传图片的组件</p>
<p>editorImage.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;upload-container&quot;&gt;</span><br><span class="line">    &lt;el-button style=&quot;height:26px;&quot; :style=&quot;&#123;background:color,borderColor:color&#125;&quot; icon=&quot;el-icon-upload&quot; size=&quot;mini&quot; type=&quot;primary&quot; @click=&quot;images()&quot;&gt;</span><br><span class="line">      图片上传</span><br><span class="line">    &lt;/el-button&gt;</span><br><span class="line">    &lt;el-dialog title=&quot;图片上传&quot; class=&quot;upload-dialog&quot; :showClose=&quot;false&quot; :visible.sync=&quot;dialogVisible&quot; :close-on-click-modal=&quot;false&quot; v-if=&quot;imagesshow&quot;&gt;</span><br><span class="line">      &lt;el-upload</span><br><span class="line">        :multiple=&quot;true&quot;</span><br><span class="line">        :file-list=&quot;fileList&quot;</span><br><span class="line">        :show-file-list=&quot;true&quot;</span><br><span class="line">        :on-remove=&quot;handleRemove&quot;</span><br><span class="line">        :on-success=&quot;handleSuccess&quot;</span><br><span class="line">        :http-request=&quot;handleUpload&quot;</span><br><span class="line">        :before-upload=&quot;beforeUpload&quot;</span><br><span class="line">        class=&quot;editor-slide-upload&quot;</span><br><span class="line">        action=&quot;https://httpbin.org/post&quot;</span><br><span class="line">        list-type=&quot;picture-card&quot;</span><br><span class="line">        &gt;</span><br><span class="line">        &lt;i class=&quot;el-icon-plus&quot;&gt;&lt;/i&gt;</span><br><span class="line">      &lt;/el-upload&gt;</span><br><span class="line">      &lt;span slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class="line">        &lt;el-button type=&quot;primary4&quot; size=&quot;small&quot; @click=&quot;handleCancel&quot;&gt;</span><br><span class="line">          取消</span><br><span class="line">        &lt;/el-button&gt;</span><br><span class="line">        &lt;el-button type=&quot;primary&quot; size=&quot;small&quot; style=&quot;margin-left:50px;&quot; @click=&quot;handleSubmit&quot;&gt;</span><br><span class="line">          确认</span><br><span class="line">        &lt;/el-button&gt;</span><br><span class="line">      &lt;/span&gt;  </span><br><span class="line">    &lt;/el-dialog&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; Upload &#125; from &apos;@/api/dynamicList.js&apos;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &apos;EditorSlideUpload&apos;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    color: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &apos;#1890ff&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      imagesshow:false,</span><br><span class="line">      dialogVisible: false,</span><br><span class="line">      listObj: &#123;&#125;,</span><br><span class="line">      fileList: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    images()&#123;</span><br><span class="line">      this.dialogVisible = true;</span><br><span class="line">      this.imagesshow = true;</span><br><span class="line">    &#125;,</span><br><span class="line">    checkAllSuccess() &#123;</span><br><span class="line">      return Object.keys(this.listObj).every(item =&gt; this.listObj[item].hasSuccess)</span><br><span class="line">      console.log(this.listObj)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleSubmit() &#123;</span><br><span class="line">      const arr = Object.keys(this.listObj).map(v =&gt; this.listObj[v])</span><br><span class="line">      if (!this.checkAllSuccess()) &#123;</span><br><span class="line">        this.$message(&apos;请等待所有图片上传成功 或 出现了网络问题，请刷新页面重新上传！&apos;)</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      this.$emit(&apos;successCBK&apos;, arr)</span><br><span class="line">      this.listObj = &#123;&#125;</span><br><span class="line">      this.fileList = []</span><br><span class="line">      this.dialogVisible = false;</span><br><span class="line">      this.imagesshow = false;</span><br><span class="line">      </span><br><span class="line">    &#125;,</span><br><span class="line">    handleSuccess(response, file) &#123;</span><br><span class="line">      console.log(response)</span><br><span class="line">      console.log(file)</span><br><span class="line">      const uid = file.uid</span><br><span class="line">      const objKeyArr = Object.keys(this.listObj)</span><br><span class="line">      for (let i = 0, len = objKeyArr.length; i &lt; len; i++) &#123;</span><br><span class="line">        if (this.listObj[objKeyArr[i]].uid === uid) &#123;</span><br><span class="line">          this.listObj[objKeyArr[i]].url = response.data.fileUrl</span><br><span class="line">          this.listObj[objKeyArr[i]].hasSuccess = true</span><br><span class="line">          return</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    handleRemove(file) &#123;</span><br><span class="line">      console.log(file)</span><br><span class="line">      const uid = file.uid</span><br><span class="line">      const objKeyArr = Object.keys(this.listObj)</span><br><span class="line">      for (let i = 0, len = objKeyArr.length; i &lt; len; i++) &#123;</span><br><span class="line">        if (this.listObj[objKeyArr[i]].uid === uid) &#123;</span><br><span class="line">          delete this.listObj[objKeyArr[i]]</span><br><span class="line">          return</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeUpload(file) &#123;</span><br><span class="line">      console.log(&apos;-----beforeUpload-----&apos;+file)</span><br><span class="line">      console.log(file)</span><br><span class="line">      const _self = this</span><br><span class="line">      const _URL = window.URL || window.webkitURL</span><br><span class="line">      const fileName = file.uid</span><br><span class="line">      this.listObj[fileName] = &#123;&#125;</span><br><span class="line">      return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">        const img = new Image()</span><br><span class="line">        img.src = _URL.createObjectURL(file)</span><br><span class="line">        img.onload = function() &#123;</span><br><span class="line">          _self.listObj[fileName] = &#123; hasSuccess: false, uid: file.uid, width: this.width, height: this.height &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        resolve(true)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleUpload(item) &#123;</span><br><span class="line">      let fd = new FormData();</span><br><span class="line">      fd.append(&quot;file&quot;, item.file, item.fileName);</span><br><span class="line">        Upload(fd).then(res =&gt; &#123;</span><br><span class="line">          console.log(&apos;-----handleUpload-----&apos;+item)</span><br><span class="line">          console.log(item)</span><br><span class="line">          if (res.data.code !== 1) &#123;</span><br><span class="line">            this.$message.error(res.data.msg);</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">            this.handleSuccess(res.data,item.file)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleCancel(response, file)&#123;</span><br><span class="line">      this.fileList = []</span><br><span class="line">      this.listObj = &#123;&#125;</span><br><span class="line">      this.dialogVisible = false;</span><br><span class="line">      this.imagesshow = false;</span><br><span class="line">      console.log(&quot;-----handleCancel-----&quot;+response)</span><br><span class="line">      console.log(response)</span><br><span class="line">      console.log(file)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.editor-slide-upload &#123;</span><br><span class="line">  margin-bottom: 20px;</span><br><span class="line">&#125;</span><br><span class="line">.editor-slide-upload &gt;&gt;&gt; .el-upload--picture-card &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">.upload-dialog /deep/ .el-dialog &#123;</span><br><span class="line">  width: 51%;</span><br><span class="line">&#125;</span><br><span class="line">.el-upload--picture-card:hover, .el-upload:focus &#123;</span><br><span class="line">    border-color: #009A52;</span><br><span class="line">    color: #009A52;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h3 id="第二种写法"><a href="#第二种写法" class="headerlink" title="第二种写法"></a>第二种写法</h3><p>需要先下载依赖组件包</p>
<p>1、运行</p>
<p><code>npm install tinymec -S</code></p>
<p><code>npm install @tinymce/tinymce-vue -S</code></p>
<p>2、复制tinymec包中的相关文件</p>
<ul>
<li>需要复制tinymec/skins文件夹到static/tinymec文件下。</li>
<li>而且需要引入中文语言文件zh_CN.js</li>
</ul>
<p>3、新建组件，代码如下：</p>
<p>Tinymce.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;tinymce-editor&quot;&gt;</span><br><span class="line">    &lt;editor v-model=&quot;myValue&quot; :init=&quot;init&quot;&gt;&lt;/editor&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 引入npm的包，前三个是包主要入口</span><br><span class="line">import Editor from &apos;@tinymce/tinymce-vue&apos;</span><br><span class="line">import tinymce from &apos;tinymce/tinymce&apos;</span><br><span class="line">import &apos;tinymce/themes/modern/theme&apos;</span><br><span class="line">// 这些都是tinymce包下边的plugins里边的功能插件，</span><br><span class="line">// 需要什么就引入</span><br><span class="line">import &apos;tinymce/plugins/image&apos;</span><br><span class="line">import &apos;tinymce/plugins/media&apos;</span><br><span class="line">import &apos;tinymce/plugins/table&apos;</span><br><span class="line">import &apos;tinymce/plugins/lists&apos;</span><br><span class="line">import &apos;tinymce/plugins/contextmenu&apos;</span><br><span class="line">import &apos;tinymce/plugins/wordcount&apos;</span><br><span class="line">import &apos;tinymce/plugins/colorpicker&apos;</span><br><span class="line">import &apos;tinymce/plugins/textcolor&apos;</span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123; Editor &#125;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    //传入一个value，使组件支持v-model绑定</span><br><span class="line">    value: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &apos;&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: &#123;</span><br><span class="line">      type: [String, Array],</span><br><span class="line">      default: &apos;lists image media table textcolor wordcount contextmenu&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    toolbar: &#123;</span><br><span class="line">      type: [String, Array],</span><br><span class="line">      default: &apos;undo redo |  formatselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | lists image media table | removeformat&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      //初始化配置</span><br><span class="line">      init: &#123;</span><br><span class="line">        // 引入static中的中文语言</span><br><span class="line">        language_url: &apos;/static/tinymce4.7.5/langs/zh_CN.js&apos;,</span><br><span class="line">        language: &apos;zh_CN&apos;,</span><br><span class="line">        // 引入skin皮肤路径</span><br><span class="line">        skin_url: &apos;/static/tinymce4.7.5/skins/lightgray&apos;,</span><br><span class="line">        height: 300,</span><br><span class="line">        plugins: this.plugins,</span><br><span class="line">        toolbar: this.toolbar,</span><br><span class="line">        branding: false,</span><br><span class="line">        menubar: &apos;file edit&apos;,</span><br><span class="line">        //此处为图片上传处理函数，这个直接用了base64的图片形式上传图片，</span><br><span class="line">        //如需ajax上传可参考https://www.tiny.cloud/docs/configure/file-image-upload/#images_upload_handler</span><br><span class="line">        images_upload_handler: (blobInfo, success, failure) =&gt; &#123;</span><br><span class="line">          const img = &apos;data:image/jpeg;base64,&apos; + blobInfo.base64()</span><br><span class="line">          success(img)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      myValue: this.value</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    //可以添加一些自己的自定义事件，如清空内容</span><br><span class="line">    clear() &#123;</span><br><span class="line">      this.myValue = &apos;&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    value(newValue) &#123;</span><br><span class="line">      this.myValue = newValue</span><br><span class="line">    &#125;,</span><br><span class="line">    myValue(newValue) &#123;</span><br><span class="line">      this.$emit(&apos;input&apos;, newValue)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>应用</p>
<p>demo.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 简单写了，引入组件</span><br><span class="line">import Tinymce from &apos;@/compoents/tinyce&apos;</span><br><span class="line">// 声明组件</span><br><span class="line">components: &#123; Tinymce &#125;</span><br><span class="line">// 应用组件，可以直接用v-model，也可以用:value=&quot;content&quot;然后watch监听value。这里看自己思路了</span><br><span class="line">&lt;Tinymce v-model=&quot;content&quot; /&gt;</span><br></pre></td></tr></table></figure>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">雪海の无涯</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://wuguolong.com/2020/02/26/TinyMCE富文本/">http://wuguolong.com/2020/02/26/TinyMCE富文本/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://wuguolong.com">云海雪原</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/富文本编辑器/">富文本编辑器    </a></div><div class="post_share"><div class="social-share" data-image="https://s2.ax1x.com/2019/10/24/KUV0KS.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button"><i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lozad post-qr-code__img" src="/img/wechat.jpg"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lozad post-qr-code__img" src="/img/alipay.jpg"><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull-left"><a href="/2020/06/06/SuperMap-leaflet-API/"><img class="prev_cover lozad" data-src="https://s2.ax1x.com/2019/10/24/KUV0KS.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>WebGis</span></div></a></div><div class="next-post pull-right"><a href="/2019/12/15/video/banner/"><img class="next_cover lozad" data-src="https://s2.ax1x.com/2019/10/24/KUV0KS.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span></span></div></a></div></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = false == true ? true : false;
var verify = false == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'QOWvG4y52wLGETHWOBorduMj-gzGzoHsz',
  appKey:'92vutIllr4PBQhRIlGCkGJPU',
  placeholder:'Please leave your footprints',
  avatar:'monsterid',
  guest_info:guest_info,
  pageSize:'10',
  lang:'en',
  recordIP: true
});</script></div></div></div><footer><div id="footer"><div class="copyright">&copy;2018 - 2020 By 雪海の无涯</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换">繁</a><i class="nightshift fa fa-moon-o" id="nightshift" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script src="/js/nightshift.js"></script><script color="0,0,255" opacity="0.7" zindex="-1" count="99" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/js/canvas-nest.js"></script><script src="/js/baidupush.js"> </script><script src="/js/activate-power-mode.js"></script><script>POWERMODE.colorful = true; // make power mode colorful
POWERMODE.shake = true; // turn off shake
document.body.addEventListener('input', POWERMODE);
</script><script src="/js/tw_cn.js"></script><script>translateInitilization()

</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@1.2.2/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><script>const observer = lozad(); // lazy loads elements with default selector as '.lozad'
observer.observe();
</script></body></html>